
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>用Vault 与 Consul-Template 管理 Windows 环境变量中的机密 · 《Vault 中文手册》</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="大可不加冰">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-vsc-dark-plus.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-image-captions/image-captions.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="4.ssh_otp.html" />
    
    
    <link rel="prev" href="2.使用vault提供可搜索的密文.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.1.</b>
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                        <b>1.2.</b>
                    
                    什么是Vault
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../1.什么是vault/1.secret_sprawl.html">
            
                <a href="../1.什么是vault/1.secret_sprawl.html">
            
                    
                        <b>1.2.1.</b>
                    
                    机密蔓生的危害及其治理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../1.什么是vault/2.什么是vault.html">
            
                <a href="../1.什么是vault/2.什么是vault.html">
            
                    
                        <b>1.2.2.</b>
                    
                    什么是 Vault
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../1.什么是vault/3.vault_security_model.html">
            
                <a href="../1.什么是vault/3.vault_security_model.html">
            
                    
                        <b>1.2.3.</b>
                    
                    Vault 安全模型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../1.什么是vault/4.安装Vault.html">
            
                <a href="../1.什么是vault/4.安装Vault.html">
            
                    
                        <b>1.2.4.</b>
                    
                    安装 Vault
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../1.什么是vault/5.启动标准的Vault服务.html">
            
                <a href="../1.什么是vault/5.启动标准的Vault服务.html">
            
                    
                        <b>1.2.5.</b>
                    
                    启动一个标准的 Vault 服务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../1.什么是vault/6.Vault的架构.html">
            
                <a href="../1.什么是vault/6.Vault的架构.html">
            
                    
                        <b>1.2.6.</b>
                    
                    Vault的架构
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../2.基本概念/基本概念.html">
            
                <a href="../2.基本概念/基本概念.html">
            
                    
                        <b>1.3.</b>
                    
                    基本概念
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../2.基本概念/1.Dev-Server-Mode.html">
            
                <a href="../2.基本概念/1.Dev-Server-Mode.html">
            
                    
                        <b>1.3.1.</b>
                    
                    "Dev" 服务模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../2.基本概念/2.封印与解封.html">
            
                <a href="../2.基本概念/2.封印与解封.html">
            
                    
                        <b>1.3.2.</b>
                    
                    封印与解封
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../2.基本概念/3.名字空间锁.html">
            
                <a href="../2.基本概念/3.名字空间锁.html">
            
                    
                        <b>1.3.3.</b>
                    
                    名字空间锁和解锁
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../2.基本概念/4.租约-续约与吊销.html">
            
                <a href="../2.基本概念/4.租约-续约与吊销.html">
            
                    
                        <b>1.3.4.</b>
                    
                    租约、续约以及吊销
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../2.基本概念/5.身份验证.html">
            
                <a href="../2.基本概念/5.身份验证.html">
            
                    
                        <b>1.3.5.</b>
                    
                    身份验证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../2.基本概念/6.令牌.html">
            
                <a href="../2.基本概念/6.令牌.html">
            
                    
                        <b>1.3.6.</b>
                    
                    令牌
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../2.基本概念/7.身份.html">
            
                <a href="../2.基本概念/7.身份.html">
            
                    
                        <b>1.3.7.</b>
                    
                    身份
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../2.基本概念/8.响应封装.html">
            
                <a href="../2.基本概念/8.响应封装.html">
            
                    
                        <b>1.3.8.</b>
                    
                    响应封装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../2.基本概念/9.策略.html">
            
                <a href="../2.基本概念/9.策略.html">
            
                    
                        <b>1.3.9.</b>
                    
                    策略
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="../2.基本概念/10.密码策略.html">
            
                <a href="../2.基本概念/10.密码策略.html">
            
                    
                        <b>1.3.10.</b>
                    
                    密码策略
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="../2.基本概念/11.用户名模板.html">
            
                <a href="../2.基本概念/11.用户名模板.html">
            
                    
                        <b>1.3.11.</b>
                    
                    用户名模板
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="../2.基本概念/12.高可用模式.html">
            
                <a href="../2.基本概念/12.高可用模式.html">
            
                    
                        <b>1.3.12.</b>
                    
                    高可用模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="../2.基本概念/13.存储.html">
            
                <a href="../2.基本概念/13.存储.html">
            
                    
                        <b>1.3.13.</b>
                    
                    存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.14" data-path="../2.基本概念/14.Vault集成存储.html">
            
                <a href="../2.基本概念/14.Vault集成存储.html">
            
                    
                        <b>1.3.14.</b>
                    
                    Vault 集成存储(Integrated Storage)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.15" data-path="../2.基本概念/15.Vault集成存储的自动驾驶功能.html">
            
                <a href="../2.基本概念/15.Vault集成存储的自动驾驶功能.html">
            
                    
                        <b>1.3.15.</b>
                    
                    Vault 集成存储的自动驾驶功能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.16" data-path="../2.基本概念/16.使用PGP_GnuPG和Keybase.html">
            
                <a href="../2.基本概念/16.使用PGP_GnuPG和Keybase.html">
            
                    
                        <b>1.3.16.</b>
                    
                    使用PGP、GnuPG和Keybase
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.17" data-path="../2.基本概念/17.恢复模式.html">
            
                <a href="../2.基本概念/17.恢复模式.html">
            
                    
                        <b>1.3.17.</b>
                    
                    恢复模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.18" data-path="../2.基本概念/18.资源配额.html">
            
                <a href="../2.基本概念/18.资源配额.html">
            
                    
                        <b>1.3.18.</b>
                    
                    资源配额
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../3.命令行/命令行.html">
            
                <a href="../3.命令行/命令行.html">
            
                    
                        <b>1.4.</b>
                    
                    命令行
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../3.命令行/1.agent.html">
            
                <a href="../3.命令行/1.agent.html">
            
                    
                        <b>1.4.1.</b>
                    
                    agent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../3.命令行/2.audit.html">
            
                <a href="../3.命令行/2.audit.html">
            
                    
                        <b>1.4.2.</b>
                    
                    audit
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../3.命令行/2.1.audit_disable.html">
            
                <a href="../3.命令行/2.1.audit_disable.html">
            
                    
                        <b>1.4.2.1.</b>
                    
                    audit disable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../3.命令行/2.2.audit_enable.html">
            
                <a href="../3.命令行/2.2.audit_enable.html">
            
                    
                        <b>1.4.2.2.</b>
                    
                    audit enable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../3.命令行/2.3.audit_list.html">
            
                <a href="../3.命令行/2.3.audit_list.html">
            
                    
                        <b>1.4.2.3.</b>
                    
                    audit list
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../3.命令行/3.auth.html">
            
                <a href="../3.命令行/3.auth.html">
            
                    
                        <b>1.4.3.</b>
                    
                    auth
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="../3.命令行/3.1.auth_disable.html">
            
                <a href="../3.命令行/3.1.auth_disable.html">
            
                    
                        <b>1.4.3.1.</b>
                    
                    auth disable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.2" data-path="../3.命令行/3.2.auth_enable.html">
            
                <a href="../3.命令行/3.2.auth_enable.html">
            
                    
                        <b>1.4.3.2.</b>
                    
                    auth enable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.3" data-path="../3.命令行/3.3.auth_help.html">
            
                <a href="../3.命令行/3.3.auth_help.html">
            
                    
                        <b>1.4.3.3.</b>
                    
                    auth help
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4" data-path="../3.命令行/3.4.auth_list.html">
            
                <a href="../3.命令行/3.4.auth_list.html">
            
                    
                        <b>1.4.3.4.</b>
                    
                    auth list
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.5" data-path="../3.命令行/3.5.auth_tune.html">
            
                <a href="../3.命令行/3.5.auth_tune.html">
            
                    
                        <b>1.4.3.5.</b>
                    
                    auth tune
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../3.命令行/4.debug.html">
            
                <a href="../3.命令行/4.debug.html">
            
                    
                        <b>1.4.4.</b>
                    
                    debug
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../3.命令行/5.delete.html">
            
                <a href="../3.命令行/5.delete.html">
            
                    
                        <b>1.4.5.</b>
                    
                    delete
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../3.命令行/6.kv.html">
            
                <a href="../3.命令行/6.kv.html">
            
                    
                        <b>1.4.6.</b>
                    
                    kv
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.6.1" data-path="../3.命令行/6.1.kv_delete.html">
            
                <a href="../3.命令行/6.1.kv_delete.html">
            
                    
                        <b>1.4.6.1.</b>
                    
                    kv delete
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.2" data-path="../3.命令行/6.2.kv_destroy.html">
            
                <a href="../3.命令行/6.2.kv_destroy.html">
            
                    
                        <b>1.4.6.2.</b>
                    
                    kv destroy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.3" data-path="../3.命令行/6.3.kv_enable-versioning.html">
            
                <a href="../3.命令行/6.3.kv_enable-versioning.html">
            
                    
                        <b>1.4.6.3.</b>
                    
                    kv enable-versioning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.4" data-path="../3.命令行/6.4.kv_get.html">
            
                <a href="../3.命令行/6.4.kv_get.html">
            
                    
                        <b>1.4.6.4.</b>
                    
                    kv get
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.5" data-path="../3.命令行/6.5.kv_list.html">
            
                <a href="../3.命令行/6.5.kv_list.html">
            
                    
                        <b>1.4.6.5.</b>
                    
                    kv list
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.6" data-path="../3.命令行/6.6.kv_metadata.html">
            
                <a href="../3.命令行/6.6.kv_metadata.html">
            
                    
                        <b>1.4.6.6.</b>
                    
                    kv metadata
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.7" data-path="../3.命令行/6.7.kv_patch.html">
            
                <a href="../3.命令行/6.7.kv_patch.html">
            
                    
                        <b>1.4.6.7.</b>
                    
                    kv patch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.8" data-path="../3.命令行/6.8.kv_put.html">
            
                <a href="../3.命令行/6.8.kv_put.html">
            
                    
                        <b>1.4.6.8.</b>
                    
                    kv put
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.9" data-path="../3.命令行/6.9.kv_rollback.html">
            
                <a href="../3.命令行/6.9.kv_rollback.html">
            
                    
                        <b>1.4.6.9.</b>
                    
                    kv rollback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.10" data-path="../3.命令行/6.10.kv_undelete.html">
            
                <a href="../3.命令行/6.10.kv_undelete.html">
            
                    
                        <b>1.4.6.10.</b>
                    
                    kv undelete
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../3.命令行/7.lease.html">
            
                <a href="../3.命令行/7.lease.html">
            
                    
                        <b>1.4.7.</b>
                    
                    lease
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1" data-path="../3.命令行/7.1.lease_lookup.html">
            
                <a href="../3.命令行/7.1.lease_lookup.html">
            
                    
                        <b>1.4.7.1.</b>
                    
                    lease lookup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.2" data-path="../3.命令行/7.2.lease_renew.html">
            
                <a href="../3.命令行/7.2.lease_renew.html">
            
                    
                        <b>1.4.7.2.</b>
                    
                    lease renew
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.3" data-path="../3.命令行/7.3.lease_revoke.html">
            
                <a href="../3.命令行/7.3.lease_revoke.html">
            
                    
                        <b>1.4.7.3.</b>
                    
                    lease revoke
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../3.命令行/8.list.html">
            
                <a href="../3.命令行/8.list.html">
            
                    
                        <b>1.4.8.</b>
                    
                    list
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../3.命令行/9.login.html">
            
                <a href="../3.命令行/9.login.html">
            
                    
                        <b>1.4.9.</b>
                    
                    login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../3.命令行/10.monitor.html">
            
                <a href="../3.命令行/10.monitor.html">
            
                    
                        <b>1.4.10.</b>
                    
                    monitor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="../3.命令行/11.namespace.html">
            
                <a href="../3.命令行/11.namespace.html">
            
                    
                        <b>1.4.11.</b>
                    
                    namespace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12" data-path="../3.命令行/12.operator.html">
            
                <a href="../3.命令行/12.operator.html">
            
                    
                        <b>1.4.12.</b>
                    
                    operator
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.12.1" data-path="../3.命令行/12.1.operator_diagnose.html">
            
                <a href="../3.命令行/12.1.operator_diagnose.html">
            
                    
                        <b>1.4.12.1.</b>
                    
                    operator diagnose
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12.2" data-path="../3.命令行/12.2.operator_generate-root.html">
            
                <a href="../3.命令行/12.2.operator_generate-root.html">
            
                    
                        <b>1.4.12.2.</b>
                    
                    operator generate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12.3" data-path="../3.命令行/12.3.operator_init.html">
            
                <a href="../3.命令行/12.3.operator_init.html">
            
                    
                        <b>1.4.12.3.</b>
                    
                    operator init
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12.4" data-path="../3.命令行/12.4.operator_key-status.html">
            
                <a href="../3.命令行/12.4.operator_key-status.html">
            
                    
                        <b>1.4.12.4.</b>
                    
                    operator key-status
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12.5" data-path="../3.命令行/12.5.operator_migrate.html">
            
                <a href="../3.命令行/12.5.operator_migrate.html">
            
                    
                        <b>1.4.12.5.</b>
                    
                    operator migrate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12.6" data-path="../3.命令行/12.6.operator_raft.html">
            
                <a href="../3.命令行/12.6.operator_raft.html">
            
                    
                        <b>1.4.12.6.</b>
                    
                    operator raft
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12.7" data-path="../3.命令行/12.7.operator_rekey.html">
            
                <a href="../3.命令行/12.7.operator_rekey.html">
            
                    
                        <b>1.4.12.7.</b>
                    
                    opeartor rekey
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12.8" data-path="../3.命令行/12.8.operator_rotate.html">
            
                <a href="../3.命令行/12.8.operator_rotate.html">
            
                    
                        <b>1.4.12.8.</b>
                    
                    operator rotate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12.9" data-path="../3.命令行/12.9.operator_seal.html">
            
                <a href="../3.命令行/12.9.operator_seal.html">
            
                    
                        <b>1.4.12.9.</b>
                    
                    operator seal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12.10" data-path="../3.命令行/12.10.operator_step-down.html">
            
                <a href="../3.命令行/12.10.operator_step-down.html">
            
                    
                        <b>1.4.12.10.</b>
                    
                    operator step-down
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12.11" data-path="../3.命令行/12.11.operator_unseal.html">
            
                <a href="../3.命令行/12.11.operator_unseal.html">
            
                    
                        <b>1.4.12.11.</b>
                    
                    operator unseal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12.12" data-path="../3.命令行/12.12.operator_usage.html">
            
                <a href="../3.命令行/12.12.operator_usage.html">
            
                    
                        <b>1.4.12.12.</b>
                    
                    operator usage
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.13" data-path="../3.命令行/13.path-help.html">
            
                <a href="../3.命令行/13.path-help.html">
            
                    
                        <b>1.4.13.</b>
                    
                    path-help
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.14" data-path="../3.命令行/14.plugin.html">
            
                <a href="../3.命令行/14.plugin.html">
            
                    
                        <b>1.4.14.</b>
                    
                    plugin
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.14.1" data-path="../3.命令行/14.1.plugin_deregister.html">
            
                <a href="../3.命令行/14.1.plugin_deregister.html">
            
                    
                        <b>1.4.14.1.</b>
                    
                    plugin deregister
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.14.2" data-path="../3.命令行/14.2.plugin_info.html">
            
                <a href="../3.命令行/14.2.plugin_info.html">
            
                    
                        <b>1.4.14.2.</b>
                    
                    plugin info
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.14.3" data-path="../3.命令行/14.3.plugin_list.html">
            
                <a href="../3.命令行/14.3.plugin_list.html">
            
                    
                        <b>1.4.14.3.</b>
                    
                    plugin list
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.14.4" data-path="../3.命令行/14.4.plugin_register.html">
            
                <a href="../3.命令行/14.4.plugin_register.html">
            
                    
                        <b>1.4.14.4.</b>
                    
                    plugin register
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.14.5" data-path="../3.命令行/14.5.plugin_reload.html">
            
                <a href="../3.命令行/14.5.plugin_reload.html">
            
                    
                        <b>1.4.14.5.</b>
                    
                    plugin reload
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.15" data-path="../3.命令行/15.policy.html">
            
                <a href="../3.命令行/15.policy.html">
            
                    
                        <b>1.4.15.</b>
                    
                    policy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.15.1" data-path="../3.命令行/15.1.policy_delete.html">
            
                <a href="../3.命令行/15.1.policy_delete.html">
            
                    
                        <b>1.4.15.1.</b>
                    
                    policy delete
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.15.2" data-path="../3.命令行/15.2.policy_fmt.html">
            
                <a href="../3.命令行/15.2.policy_fmt.html">
            
                    
                        <b>1.4.15.2.</b>
                    
                    policy fmt
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.15.3" data-path="../3.命令行/15.3.policy_list.html">
            
                <a href="../3.命令行/15.3.policy_list.html">
            
                    
                        <b>1.4.15.3.</b>
                    
                    policy list
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.15.4" data-path="../3.命令行/15.4.policy_read.html">
            
                <a href="../3.命令行/15.4.policy_read.html">
            
                    
                        <b>1.4.15.4.</b>
                    
                    policy read
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.15.5" data-path="../3.命令行/15.5.policy_write.html">
            
                <a href="../3.命令行/15.5.policy_write.html">
            
                    
                        <b>1.4.15.5.</b>
                    
                    policy write
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.16" data-path="../3.命令行/16.read.html">
            
                <a href="../3.命令行/16.read.html">
            
                    
                        <b>1.4.16.</b>
                    
                    read
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.17" data-path="../3.命令行/17.secrets.html">
            
                <a href="../3.命令行/17.secrets.html">
            
                    
                        <b>1.4.17.</b>
                    
                    secrets
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.17.1" data-path="../3.命令行/17.1.secrets_disable.html">
            
                <a href="../3.命令行/17.1.secrets_disable.html">
            
                    
                        <b>1.4.17.1.</b>
                    
                    secrets disable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.17.2" data-path="../3.命令行/17.2.secrets_enable.html">
            
                <a href="../3.命令行/17.2.secrets_enable.html">
            
                    
                        <b>1.4.17.2.</b>
                    
                    secrets enable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.17.3" data-path="../3.命令行/17.3.secrets_list.html">
            
                <a href="../3.命令行/17.3.secrets_list.html">
            
                    
                        <b>1.4.17.3.</b>
                    
                    secrets list
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.17.4" data-path="../3.命令行/17.4.secrets_move.html">
            
                <a href="../3.命令行/17.4.secrets_move.html">
            
                    
                        <b>1.4.17.4.</b>
                    
                    secrets move
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.17.5" data-path="../3.命令行/17.5.secrets_tune.html">
            
                <a href="../3.命令行/17.5.secrets_tune.html">
            
                    
                        <b>1.4.17.5.</b>
                    
                    secrets tune
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.18" data-path="../3.命令行/18.server.html">
            
                <a href="../3.命令行/18.server.html">
            
                    
                        <b>1.4.18.</b>
                    
                    server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.19" data-path="../3.命令行/19.ssh.html">
            
                <a href="../3.命令行/19.ssh.html">
            
                    
                        <b>1.4.19.</b>
                    
                    ssh
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.20" data-path="../3.命令行/20.status.html">
            
                <a href="../3.命令行/20.status.html">
            
                    
                        <b>1.4.20.</b>
                    
                    status
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.21" data-path="../3.命令行/21.token.html">
            
                <a href="../3.命令行/21.token.html">
            
                    
                        <b>1.4.21.</b>
                    
                    token
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.21.1" data-path="../3.命令行/21.1.token_capabilities.html">
            
                <a href="../3.命令行/21.1.token_capabilities.html">
            
                    
                        <b>1.4.21.1.</b>
                    
                    token capabilities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.21.2" data-path="../3.命令行/21.2.token_create.html">
            
                <a href="../3.命令行/21.2.token_create.html">
            
                    
                        <b>1.4.21.2.</b>
                    
                    token create
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.21.3" data-path="../3.命令行/21.3.token_lookup.html">
            
                <a href="../3.命令行/21.3.token_lookup.html">
            
                    
                        <b>1.4.21.3.</b>
                    
                    token lookup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.21.4" data-path="../3.命令行/21.4.token_renew.html">
            
                <a href="../3.命令行/21.4.token_renew.html">
            
                    
                        <b>1.4.21.4.</b>
                    
                    token renew
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.21.5" data-path="../3.命令行/21.5.token_revoke.html">
            
                <a href="../3.命令行/21.5.token_revoke.html">
            
                    
                        <b>1.4.21.5.</b>
                    
                    token revoke
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.22" data-path="../3.命令行/22.unwrap.html">
            
                <a href="../3.命令行/22.unwrap.html">
            
                    
                        <b>1.4.22.</b>
                    
                    unwrap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.23" data-path="../3.命令行/23.version.html">
            
                <a href="../3.命令行/23.version.html">
            
                    
                        <b>1.4.23.</b>
                    
                    version
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.24" data-path="../3.命令行/24.write.html">
            
                <a href="../3.命令行/24.write.html">
            
                    
                        <b>1.4.24.</b>
                    
                    write
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../4.配置文件/overview.html">
            
                <a href="../4.配置文件/overview.html">
            
                    
                        <b>1.5.</b>
                    
                    配置文件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../4.配置文件/1.listener.html">
            
                <a href="../4.配置文件/1.listener.html">
            
                    
                        <b>1.5.1.</b>
                    
                    listener
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../4.配置文件/1.1.listener_tcp.html">
            
                <a href="../4.配置文件/1.1.listener_tcp.html">
            
                    
                        <b>1.5.1.1.</b>
                    
                    tcp
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../4.配置文件/2.replication.html">
            
                <a href="../4.配置文件/2.replication.html">
            
                    
                        <b>1.5.2.</b>
                    
                    replication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../4.配置文件/3.seal.html">
            
                <a href="../4.配置文件/3.seal.html">
            
                    
                        <b>1.5.3.</b>
                    
                    seal
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../4.配置文件/3.1.seal_AliCloud.html">
            
                <a href="../4.配置文件/3.1.seal_AliCloud.html">
            
                    
                        <b>1.5.3.1.</b>
                    
                    AliCloud
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2" data-path="../4.配置文件/3.2.seal_AWS.html">
            
                <a href="../4.配置文件/3.2.seal_AWS.html">
            
                    
                        <b>1.5.3.2.</b>
                    
                    AWS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3" data-path="../4.配置文件/3.3.seal_Azure.html">
            
                <a href="../4.配置文件/3.3.seal_Azure.html">
            
                    
                        <b>1.5.3.3.</b>
                    
                    Azure Key Valut
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.4" data-path="../4.配置文件/3.4.seal_transit.html">
            
                <a href="../4.配置文件/3.4.seal_transit.html">
            
                    
                        <b>1.5.3.4.</b>
                    
                    Vault Transit
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../4.配置文件/4.service_registration.html">
            
                <a href="../4.配置文件/4.service_registration.html">
            
                    
                        <b>1.5.4.</b>
                    
                    service_registration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="../4.配置文件/4.1.consul_service_registration.html">
            
                <a href="../4.配置文件/4.1.consul_service_registration.html">
            
                    
                        <b>1.5.4.1.</b>
                    
                    Consul
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="../4.配置文件/4.2.k8s_service_registration.html">
            
                <a href="../4.配置文件/4.2.k8s_service_registration.html">
            
                    
                        <b>1.5.4.2.</b>
                    
                    Kubernetes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../4.配置文件/5.storage.html">
            
                <a href="../4.配置文件/5.storage.html">
            
                    
                        <b>1.5.5.</b>
                    
                    storage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.1" data-path="../4.配置文件/5.1.storage_AlicloudOss.html">
            
                <a href="../4.配置文件/5.1.storage_AlicloudOss.html">
            
                    
                        <b>1.5.5.1.</b>
                    
                    Alicloud OSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2" data-path="../4.配置文件/5.2.storage_Azure.html">
            
                <a href="../4.配置文件/5.2.storage_Azure.html">
            
                    
                        <b>1.5.5.2.</b>
                    
                    Azure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.3" data-path="../4.配置文件/5.3.storage_consul.html">
            
                <a href="../4.配置文件/5.3.storage_consul.html">
            
                    
                        <b>1.5.5.3.</b>
                    
                    Consul
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.4" data-path="../4.配置文件/5.4.storage_dynamodb.html">
            
                <a href="../4.配置文件/5.4.storage_dynamodb.html">
            
                    
                        <b>1.5.5.4.</b>
                    
                    DynamoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.5" data-path="../4.配置文件/5.5.storage_etcd.html">
            
                <a href="../4.配置文件/5.5.storage_etcd.html">
            
                    
                        <b>1.5.5.5.</b>
                    
                    Etcd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.6" data-path="../4.配置文件/5.6.storage_filesystem.html">
            
                <a href="../4.配置文件/5.6.storage_filesystem.html">
            
                    
                        <b>1.5.5.6.</b>
                    
                    Filesystem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.7" data-path="../4.配置文件/5.7.storage_inmem.html">
            
                <a href="../4.配置文件/5.7.storage_inmem.html">
            
                    
                        <b>1.5.5.7.</b>
                    
                    In-Memory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.8" data-path="../4.配置文件/5.8.storage_mssql.html">
            
                <a href="../4.配置文件/5.8.storage_mssql.html">
            
                    
                        <b>1.5.5.8.</b>
                    
                    MSSQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.9" data-path="../4.配置文件/5.9.storage_mysql.html">
            
                <a href="../4.配置文件/5.9.storage_mysql.html">
            
                    
                        <b>1.5.5.9.</b>
                    
                    MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.10" data-path="../4.配置文件/5.10.storage_postgres.html">
            
                <a href="../4.配置文件/5.10.storage_postgres.html">
            
                    
                        <b>1.5.5.10.</b>
                    
                    PostgreSQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.11" data-path="../4.配置文件/5.11.storage_raft.html">
            
                <a href="../4.配置文件/5.11.storage_raft.html">
            
                    
                        <b>1.5.5.11.</b>
                    
                    Integrated Storage(Raft)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.12" data-path="../4.配置文件/5.12.storage_s3.html">
            
                <a href="../4.配置文件/5.12.storage_s3.html">
            
                    
                        <b>1.5.5.12.</b>
                    
                    S3
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../4.配置文件/6.telemetry.html">
            
                <a href="../4.配置文件/6.telemetry.html">
            
                    
                        <b>1.5.6.</b>
                    
                    telemetry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../4.配置文件/7.ui.html">
            
                <a href="../4.配置文件/7.ui.html">
            
                    
                        <b>1.5.7.</b>
                    
                    ui
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../5.身份验证方法/身份验证方法.html">
            
                <a href="../5.身份验证方法/身份验证方法.html">
            
                    
                        <b>1.6.</b>
                    
                    身份验证方法
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../5.身份验证方法/1.AppRole.html">
            
                <a href="../5.身份验证方法/1.AppRole.html">
            
                    
                        <b>1.6.1.</b>
                    
                    AppRole
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../5.身份验证方法/2.GitHub.html">
            
                <a href="../5.身份验证方法/2.GitHub.html">
            
                    
                        <b>1.6.2.</b>
                    
                    GitHub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../5.身份验证方法/3.Token.html">
            
                <a href="../5.身份验证方法/3.Token.html">
            
                    
                        <b>1.6.3.</b>
                    
                    Token
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../5.身份验证方法/4.Userpass.html">
            
                <a href="../5.身份验证方法/4.Userpass.html">
            
                    
                        <b>1.6.4.</b>
                    
                    用户名密码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../6.机密引擎/机密引擎.html">
            
                <a href="../6.机密引擎/机密引擎.html">
            
                    
                        <b>1.7.</b>
                    
                    机密引擎
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../6.机密引擎/1.AliCloud.html">
            
                <a href="../6.机密引擎/1.AliCloud.html">
            
                    
                        <b>1.7.1.</b>
                    
                    AliCloud
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../6.机密引擎/2.AWS.html">
            
                <a href="../6.机密引擎/2.AWS.html">
            
                    
                        <b>1.7.2.</b>
                    
                    AWS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../6.机密引擎/3.Azure.html">
            
                <a href="../6.机密引擎/3.Azure.html">
            
                    
                        <b>1.7.3.</b>
                    
                    Azure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../6.机密引擎/4.Consul.html">
            
                <a href="../6.机密引擎/4.Consul.html">
            
                    
                        <b>1.7.4.</b>
                    
                    Consul
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../6.机密引擎/5.Cubbyhole.html">
            
                <a href="../6.机密引擎/5.Cubbyhole.html">
            
                    
                        <b>1.7.5.</b>
                    
                    Cubbyhole
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../6.机密引擎/6.Database.html">
            
                <a href="../6.机密引擎/6.Database.html">
            
                    
                        <b>1.7.6.</b>
                    
                    Database
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.6.1" data-path="../6.机密引擎/6.1.Database_ElasticSearch.html">
            
                <a href="../6.机密引擎/6.1.Database_ElasticSearch.html">
            
                    
                        <b>1.7.6.1.</b>
                    
                    Elasticsearch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.2" data-path="../6.机密引擎/6.2.Database_MongoDB.html">
            
                <a href="../6.机密引擎/6.2.Database_MongoDB.html">
            
                    
                        <b>1.7.6.2.</b>
                    
                    MongoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.3" data-path="../6.机密引擎/6.3.Database_MSSQL.html">
            
                <a href="../6.机密引擎/6.3.Database_MSSQL.html">
            
                    
                        <b>1.7.6.3.</b>
                    
                    MSSQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.4" data-path="../6.机密引擎/6.4.Database_MYSQL.html">
            
                <a href="../6.机密引擎/6.4.Database_MYSQL.html">
            
                    
                        <b>1.7.6.4.</b>
                    
                    MySQL/MariaDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.5" data-path="../6.机密引擎/6.5.Database_Postgres.html">
            
                <a href="../6.机密引擎/6.5.Database_Postgres.html">
            
                    
                        <b>1.7.6.5.</b>
                    
                    PostgreSQL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../6.机密引擎/7.KV.html">
            
                <a href="../6.机密引擎/7.KV.html">
            
                    
                        <b>1.7.7.</b>
                    
                    Key / Value
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.7.1" data-path="../6.机密引擎/7.1.KV_v1.html">
            
                <a href="../6.机密引擎/7.1.KV_v1.html">
            
                    
                        <b>1.7.7.1.</b>
                    
                    Key / Value v1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.2" data-path="../6.机密引擎/7.2.KV_v2.html">
            
                <a href="../6.机密引擎/7.2.KV_v2.html">
            
                    
                        <b>1.7.7.2.</b>
                    
                    Key / Value v2
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../6.机密引擎/8.RabbitMQ.html">
            
                <a href="../6.机密引擎/8.RabbitMQ.html">
            
                    
                        <b>1.7.8.</b>
                    
                    RabbitMQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="../6.机密引擎/9.SSH.html">
            
                <a href="../6.机密引擎/9.SSH.html">
            
                    
                        <b>1.7.9.</b>
                    
                    SSH
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.9.1" data-path="../6.机密引擎/9.1.SSH_SignedCertificates.html">
            
                <a href="../6.机密引擎/9.1.SSH_SignedCertificates.html">
            
                    
                        <b>1.7.9.1.</b>
                    
                    签名的证书
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9.2" data-path="../6.机密引擎/9.2.SSH_OTP.html">
            
                <a href="../6.机密引擎/9.2.SSH_OTP.html">
            
                    
                        <b>1.7.9.2.</b>
                    
                    一次性 SSH 密码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="../6.机密引擎/10.Transit.html">
            
                <a href="../6.机密引擎/10.Transit.html">
            
                    
                        <b>1.7.10.</b>
                    
                    Transit
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                        <b>1.8.</b>
                    
                    [Vault Agent]
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../8.审计设备/审计设备.html">
            
                <a href="../8.审计设备/审计设备.html">
            
                    
                        <b>1.9.</b>
                    
                    审计设备
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../8.审计设备/1.file.html">
            
                <a href="../8.审计设备/1.file.html">
            
                    
                        <b>1.9.1.</b>
                    
                    File
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../8.审计设备/2.syslog.html">
            
                <a href="../8.审计设备/2.syslog.html">
            
                    
                        <b>1.9.2.</b>
                    
                    Syslog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../8.审计设备/3.socket.html">
            
                <a href="../8.审计设备/3.socket.html">
            
                    
                        <b>1.9.3.</b>
                    
                    Socket
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="overview.html">
            
                <a href="overview.html">
            
                    
                        <b>1.10.</b>
                    
                    实际案例
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="1.加密即服务.html">
            
                <a href="1.加密即服务.html">
            
                    
                        <b>1.10.1.</b>
                    
                    加密即服务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="2.使用vault提供可搜索的密文.html">
            
                <a href="2.使用vault提供可搜索的密文.html">
            
                    
                        <b>1.10.2.</b>
                    
                    使用 Vault 提供可搜索的密文
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.10.3" data-path="3.vault_consul_secret_in_env_win.html">
            
                <a href="3.vault_consul_secret_in_env_win.html">
            
                    
                        <b>1.10.3.</b>
                    
                    用Vault 与 Consul-Template 管理 Windows 环境变量中的机密
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="4.ssh_otp.html">
            
                <a href="4.ssh_otp.html">
            
                    
                        <b>1.10.4.</b>
                    
                    配置使用一次性密码登录 SSH
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="5.routate_db_root_credential.html">
            
                <a href="5.routate_db_root_credential.html">
            
                    
                        <b>1.10.5.</b>
                    
                    轮换数据库根凭证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="6.postgres_dynamic_secrets.html">
            
                <a href="6.postgres_dynamic_secrets.html">
            
                    
                        <b>1.10.6.</b>
                    
                    生成动态数据库凭证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="7.production-hardening.html">
            
                <a href="7.production-hardening.html">
            
                    
                        <b>1.10.7.</b>
                    
                    生产环境的安全加固
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="8.entities_groups.html">
            
                <a href="8.entities_groups.html">
            
                    
                        <b>1.10.8.</b>
                    
                    身份：实体与组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="9.Cubbyhole.html">
            
                <a href="9.Cubbyhole.html">
            
                    
                        <b>1.10.9.</b>
                    
                    Cubbyhole
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                        <b>1.11.</b>
                    
                    后记
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../10.后记/1.关于翻译.html">
            
                <a href="../10.后记/1.关于翻译.html">
            
                    
                        <b>1.11.1.</b>
                    
                    后记 1 —— 翻译本书的心路历程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../10.后记/2.云与安全.html">
            
                <a href="../10.后记/2.云与安全.html">
            
                    
                        <b>1.11.2.</b>
                    
                    后记 2 —— 云与安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../10.后记/3.中国云计算的革命尚未开始.html">
            
                <a href="../10.后记/3.中国云计算的革命尚未开始.html">
            
                    
                        <b>1.11.3.</b>
                    
                    后记 3 —— 中国云计算的革命尚未开始
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../10.后记/4.加拉帕戈斯云上不会有千里马.html">
            
                <a href="../10.后记/4.加拉帕戈斯云上不会有千里马.html">
            
                    
                        <b>1.11.4.</b>
                    
                    后记 4 —— 加拉帕戈斯云上不会有千里马
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="../10.后记/5.致谢.html">
            
                <a href="../10.后记/5.致谢.html">
            
                    
                        <b>1.11.5.</b>
                    
                    后记 5 —— 致谢
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >用Vault 与 Consul-Template 管理 Windows 环境变量中的机密</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#x7528;vault-&#x4E0E;-consul-template-&#x7BA1;&#x7406;-windows-&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#x7684;&#x673A;&#x5BC6;">&#x7528;Vault &#x4E0E; Consul-Template &#x7BA1;&#x7406; Windows &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#x7684;&#x673A;&#x5BC6;</h1>
<p>&#x6700;&#x8FD1;&#x53C2;&#x4E0E;&#x7684;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x4E2D;&#x914D;&#x6709;&#x5927;&#x91CF;&#x7684;&#x9A8C;&#x6536;&#x6D4B;&#x8BD5;&#xFF0C;&#x5728;&#x63D0;&#x4EA4;&#x4EE3;&#x7801;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x8FD0;&#x884C;&#x8FD9;&#x4E9B;&#x9A8C;&#x6536;&#x6D4B;&#x8BD5;&#xFF0C;&#x628A;&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;&#x4E0E;&#x4EE3;&#x7801;&#x4E00;&#x5E76;&#x63D0;&#x4EA4;&#x7ED9;&#x793E;&#x533A;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x9A8C;&#x6536;&#x6D4B;&#x8BD5;&#x8981;&#x6C42;&#x5728;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#x914D;&#x7F6E;&#x4F7F;&#x7528;&#x7684; Azure &#x7684;&#x51ED;&#x636E;&#xFF08;Credential&#xFF09;&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x9F13;&#x52B1;&#x4E86;&#x56E2;&#x961F;&#x6210;&#x5458;&#x7533;&#x8BF7;&#x4E00;&#x4E2A;&#x957F;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x51ED;&#x636E;&#xFF0C;&#x5E76;&#x624B;&#x5DE5;&#x786C;&#x7F16;&#x7801;&#x914D;&#x7F6E;&#x5728;&#x81EA;&#x5DF1;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#x8FD9;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6700;&#x4F73;&#x5B9E;&#x8DF5;&#xFF0C;&#x56E0;&#x4E3A;&#x5373;&#x4F7F;&#x5728;&#x56E2;&#x961F;&#x6210;&#x5458;&#x4F11;&#x606F;&#x3001;&#x4F11;&#x5047;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FD9;&#x4E9B;&#x51ED;&#x636E;&#x4ECD;&#x7136;&#x662F;&#x6709;&#x6548;&#x7684;&#xFF0C;&#x4ECD;&#x7136;&#x5B58;&#x5728;&#x88AB;&#x6709;&#x610F;&#x65E0;&#x610F;&#x5730;&#x6CC4;&#x6F0F;&#x7684;&#x98CE;&#x9669;&#x3002;&#x8FD1;&#x5E74;&#x6765;&#x673A;&#x5BC6;&#x4FE1;&#x606F;&#x88AB;&#x9519;&#x8BEF;&#x5730;&#x63A8;&#x9001;&#x5230;&#x516C;&#x5F00;&#x7684; Github &#x4ED3;&#x5E93;&#x800C;&#x88AB;&#x6076;&#x610F;&#x5229;&#x7528;&#x7684;&#x6848;&#x4F8B;&#x5C61;&#x89C1;&#x4E0D;&#x9C9C;&#x3002;</p>
<p>Azure CLI &#x63D0;&#x4F9B;&#x4E86;&#x53E6;&#x4E00;&#x79CD;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#xFF0C;&#x5373;&#x76F4;&#x63A5;&#x6267;&#x884C;&#xFF1A;</p>
<pre class="language-"><code class="lang-shell">$ az login
</code></pre>
<p>&#x8BE5;&#x547D;&#x4EE4;&#x4F1A;&#x6253;&#x5F00;&#x4E00;&#x4E2A; Azure &#x767B;&#x5F55;&#x9875;&#x9762;&#xFF0C;&#x8981;&#x6C42;&#x7528;&#x6237;&#x767B;&#x5F55;&#x3002;&#x767B;&#x5F55;&#x6210;&#x529F;&#x540E; Azure CLI &#x4F1A;&#x83B7;&#x5F97;&#x4E00;&#x4E2A;&#x4E34;&#x65F6;&#x7684;&#x7528;&#x6237;&#x51ED;&#x636E;&#xFF0C;&#x540E;&#x7EED;&#x7684; CLI &#x6216;&#x662F; Terraform &#x64CD;&#x4F5C;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x4F1A;&#x4F7F;&#x7528;&#x8BE5;&#x51ED;&#x636E;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x663E;&#x5F0F;&#x8BBE;&#x7F6E;&#x5404;&#x79CD;&#x673A;&#x5BC6;&#x3002;</p>
<p>&#x4F46;&#x662F;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x5B58;&#x5728;&#x4E24;&#x4E2A;&#x5C40;&#x9650;&#xFF1A;</p>
<ol>
<li>&#x5F88;&#x96BE;&#x63A7;&#x5236;&#x51ED;&#x636E;&#x7684;&#x6709;&#x6548;&#x671F;&#xFF0C;&#x6709;&#x65F6;&#x6211;&#x4EEC;&#x8FD8;&#x5728;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x5B83;&#x8FC7;&#x671F;&#x4E86;&#xFF1B;&#x6709;&#x65F6;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x4E0B;&#x73ED;&#x56DE;&#x5BB6;&#x4E86;&#xFF0C;&#x4F46;&#x51ED;&#x636E;&#x5176;&#x5B9E;&#x8FD8;&#x6709;&#x6548;&#xFF08;&#x8FD9;&#x4F3C;&#x4E4E;&#x5E76;&#x4E0D;&#x662F;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#xFF09;</li>
<li>&#x8BE5;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#x4F9D;&#x8D56;&#x4E8E;&#x4EBA;&#x7C7B;&#x4EA4;&#x4E92;&#xFF0C;&#x65E0;&#x6CD5;&#x5E94;&#x7528;&#x4E8E;&#x81EA;&#x52A8;&#x5316;&#x73AF;&#x5883;&#xFF08;&#x4F8B;&#x5982; CI &#x6D41;&#x6C34;&#x7EBF;&#x4E2D;&#xFF09;</li>
</ol>
<p>&#x6709;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x4E3A;&#x81EA;&#x52A8;&#x5316;&#x73AF;&#x5883;&#x6784;&#x5EFA;&#x4E00;&#x79CD;&#x540C;&#x6837;&#x5B89;&#x5168;&#x7684;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#xFF0C;&#x5B83;&#x5E94;&#x8BE5;&#x80FD;&#x591F;&#xFF1A;</p>
<ol>
<li>&#x4F7F;&#x7528;&#x77ED;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x51ED;&#x636E;&#xFF0C;&#x4F7F;&#x5F97;&#x51ED;&#x636E;&#x4EC5;&#x5728;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x7684;&#x65F6;&#x5019;&#x6709;&#x6548;</li>
<li>&#x9002;&#x7528;&#x4E8E;&#x81EA;&#x52A8;&#x5316;&#x73AF;&#x5883;&#xFF0C;&#x4EE5;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x6216;&#x662F;&#x51ED;&#x636E;&#x6587;&#x4EF6;&#x7684;&#x5F62;&#x5F0F;&#x5B58;&#x5728;</li>
<li>&#x8BBE;&#x7F6E;&#x51ED;&#x636E;&#x7684;&#x8FC7;&#x7A0B;&#x5C3D;&#x53EF;&#x80FD;&#x7B80;&#x5355;</li>
</ol>
<p>&#x5728;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x8981;&#x642D;&#x914D; HashiCorp &#x5F00;&#x53D1;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x5DE5;&#x5177; Consul-Template &#x6765;&#x6784;&#x5EFA;&#x4E00;&#x79CD;&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x6848;&#x3002;</p>
<h2 id="consul-template">Consul-Template</h2>
<p>Consul-Template &#x4ED3;&#x5E93;&#x7684;&#x8BF4;&#x660E;&#x4E2D;&#x5BF9;&#x8BE5;&#x9879;&#x76EE;&#x7684;&#x63CF;&#x8FF0;&#x5982;&#x4E0B;&#xFF1A;</p>
<blockquote>
<p>This project provides a convenient way to populate values from Consul into the file system using the consul-template daemon.
The daemon consul-template queries a Consul or Vault cluster and updates any number of specified templates on the file system. As an added bonus, it can optionally run arbitrary commands when the update process completes. Please see the examples folder for some scenarios where this functionality might prove useful.</p>
</blockquote>
<p>&#x7B80;&#x800C;&#x8A00;&#x4E4B;&#x8BE5;&#x9879;&#x76EE;&#x53EF;&#x4EE5;&#x628A;&#x5B58;&#x50A8;&#x5728; Consul &#x6216;&#x662F; Vault &#x4E2D;&#x7684;&#x4FE1;&#x606F;&#x201C;&#x6E32;&#x67D3;&#x201D;&#x6210;&#x4E00;&#x4E2A;&#x672C;&#x673A;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x4F9D;&#x8D56;&#x7684;&#x4FE1;&#x606F;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#x53EF;&#x4EE5;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002;&#x8FD9;&#x5BF9;&#x4E8E;&#x60F3;&#x8981;&#x628A;&#x4E00;&#x4E9B;&#x4F9D;&#x8D56;&#x4E8E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x9057;&#x7559;&#x7CFB;&#x7EDF;&#x4E5F;&#x7EB3;&#x5165;&#x4E91;&#x539F;&#x751F;&#x7684;&#x67B6;&#x6784;&#x6765;&#x8BF4;&#x6709;&#x65F6;&#x4F1A;&#x5F88;&#x6709;&#x7528;&#xFF0C;&#x4F8B;&#x5982;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6765;&#x505A;&#x670D;&#x52A1;&#x53D1;&#x73B0;&#x7B49;&#x3002;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5148;&#x6309;&#x4E0B;&#x4E0D;&#x8868;&#x3002;</p>
<h2 id="&#x5B9E;&#x9A8C;&#x73AF;&#x5883;">&#x5B9E;&#x9A8C;&#x73AF;&#x5883;</h2>
<p>&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x4F7F;&#x7528;&#x7684;&#x662F; Windows 10&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x597D; Vault &#x548C; Consul-Template &#x4EE5;&#x53CA; Azure CLI&#x3002;Vault &#x548C; Azure CLI &#x5EFA;&#x8BAE;&#x4F7F;&#x7528; Chocolaty &#x8FDB;&#x884C;&#x5B89;&#x88C5;&#xFF0C;&#x800C; Consul-Template &#x5219;&#x6709;&#x4E9B;&#x7279;&#x6B8A;&#xFF0C;Chocolaty &#x4E2D;&#x7684;&#x7248;&#x672C;&#x592A;&#x65E7;&#xFF0C;&#x800C;&#x76EE;&#x524D;&#x6700;&#x65B0;&#x7248;&#x672C;&#xFF08;v0.27.x&#xFF09;&#x53C8;&#x6709;&#x95EE;&#x9898;&#xFF08;&#x5177;&#x4F53;&#x7684;&#x95EE;&#x9898;&#x540E;&#x9762;&#x4F1A;&#x53D9;&#x8FF0;&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x63A8;&#x8350;&#x9605;&#x8BFB; Consul-Template &#x4ED3;&#x5E93;&#x7684;&#x8BF4;&#x660E;&#x6587;&#x6863;&#x4E2D;&#x5173;&#x4E8E;&#x5B89;&#x88C5;&#x7684;&#x7AE0;&#x8282;&#xFF0C;&#x4F7F;&#x7528; v0.26.0 &#x7248;&#x672C;&#x3002;</p>
<p>&#x53E6;&#x5916;&#x4E3A;&#x4E86;&#x8FD0;&#x884C;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#xFF0C;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x9AD8;&#x6743;&#x9650;&#x7684; Azure &#x8D26;&#x53F7;&#xFF0C;&#x8981;&#x83B7;&#x53D6; <code>client_id</code>&#x3001;<code>client_secret</code>&#x3001;<code>tenant_id</code>&#x3001;<code>subscripton_id</code> &#x8FD9;&#x56DB;&#x4E2A;&#x673A;&#x5BC6;&#xFF0C;&#x5177;&#x4F53;&#x6B65;&#x9AA4;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x9605;&#x8BFB; Terraform AzureRM Provider &#x7684;&#x5E2E;&#x52A9;&#x6587;&#x6863;&#xFF0C;&#x5199;&#x7684;&#x975E;&#x5E38;&#x8BE6;&#x7EC6;&#x3002;&#x9700;&#x8981;&#x8BF4;&#x660E;&#x7684;&#x662F;&#xFF0C;&#x8FD9;&#x7EC4;&#x673A;&#x5BC6;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x957F;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x673A;&#x5BC6;&#xFF0C;&#x4F46;&#x5B83;&#x5E76;&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x65E5;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x800C;&#x662F;&#x914D;&#x7F6E;&#x5728; Vault &#x91CC;&#xFF0C;&#x901A;&#x8FC7;&#x8BE5;&#x8D26;&#x53F7;&#x53BB;&#x64CD;&#x4F5C;&#x6211;&#x4EEC;&#x65E5;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x77ED;&#x751F;&#x547D;&#x5468;&#x671F;&#x51ED;&#x636E;&#x7684;&#x3002;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;&#x8FD9;&#x4E2A;&#x8D26;&#x53F7;&#x7684;&#x6743;&#x9650;&#x6BD4;&#x8F83;&#x9AD8;&#xFF0C;&#x8BF7;&#x59A5;&#x5584;&#x4FDD;&#x5B58;&#xFF0C;&#x786E;&#x4FDD;&#x8BE5;&#x673A;&#x5BC6;&#x4EC5;&#x5B58;&#x5728;&#x4E8E; Vault &#x5F53;&#x4E2D;&#x3002;</p>
<h2 id="&#x542F;&#x52A8;&#x548C;&#x914D;&#x7F6E;-vault-server">&#x542F;&#x52A8;&#x548C;&#x914D;&#x7F6E; Vault Server</h2>
<p>&#x5728; Windows &#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x6267;&#x884C;&#xFF1A;</p>
<pre class="language-"><code class="lang-cmd"><span class="token operator">&gt;</span>vault server -dev
<span class="token operator">==</span><span class="token operator">&gt;</span> Vault server configuration:

             Api Address: http://127.0.0.1:8200
                     Cgo: disabled
         Cluster Address: https://127.0.0.1:8201
              Go Version: go1.16.7
              Listener <span class="token number">1</span>: tcp <span class="token punctuation">(</span>addr: <span class="token string">&quot;127.0.0.1:8200&quot;</span>, cluster address: <span class="token string">&quot;127.0.0.1:8201&quot;</span>, max_request_duration: <span class="token string">&quot;1m30s&quot;</span>, max_request_size: <span class="token string">&quot;33554432&quot;</span>, tls: <span class="token string">&quot;disabled&quot;</span><span class="token punctuation">)</span>
               Log Level: info
                   Mlock: supported: false, enabled: <span class="token boolean">false</span>
           Recovery Mode: <span class="token boolean">false</span>
                 Storage: inmem
                 Version: Vault v1.8.4
             Version Sha: 925bc650ad1d997e84fbb832f302a6bfe0105bbb

<span class="token operator">==</span><span class="token operator">&gt;</span> Vault server started<span class="token operator">!</span> Log data will stream <span class="token keyword">in</span> below:

<span class="token punctuation">..</span>.
WARNING<span class="token operator">!</span> dev mode is enabled<span class="token operator">!</span> In this mode, Vault runs entirely in-memory
and starts unsealed with a single unseal key. The root token is already
authenticated to the CLI, so you can immediately begin using Vault.

You may need to <span class="token builtin class-name">set</span> the following environment variable:

PowerShell:
    <span class="token variable">$env</span>:VAULT_ADDR<span class="token operator">=</span><span class="token string">&quot;http://127.0.0.1:8200&quot;</span>
cmd.exe:
    <span class="token builtin class-name">set</span> <span class="token assign-left variable">VAULT_ADDR</span><span class="token operator">=</span>http://127.0.0.1:8200

The unseal key and root token are displayed below <span class="token keyword">in</span> <span class="token keyword">case</span> you want to
seal/unseal the Vault or re-authenticate.

Unseal Key: UlwuYJgN2VDDcejBRaY8Pqd+Pga4YugV2VXa2wLbXs8<span class="token operator">=</span>
Root Token: s.nbMzfLlBfAb5S4O2zb3DzeFJ

Development mode should NOT be used <span class="token keyword">in</span> production installations<span class="token operator">!</span>
</code></pre>
<p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x542F;&#x7528; Azure Secret Engine&#xFF0C;&#x914D;&#x7F6E; Vault &#x4F7F;&#x7528;&#x7684; Azure &#x8D26;&#x53F7;&#x51ED;&#x636E;&#x3002;&#x8BF7;&#x5728;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x7A97;&#x53E3;&#x4E2D;&#x8F93;&#x5165;&#xFF1A;</p>
<pre class="language-"><code class="lang-cmd"><span class="token operator">&gt;</span>set <span class="token assign-left variable">VAULT_ADDR</span><span class="token operator">=</span>http://127.0.0.1:8200

<span class="token operator">&gt;</span>vault login s.nbMzfLlBfAb5S4O2zb3DzeFJ
Success<span class="token operator">!</span> You are now authenticated. The token information displayed below
is already stored <span class="token keyword">in</span> the token helper. You <span class="token keyword">do</span> NOT need to run <span class="token string">&quot;vault login&quot;</span>
again. Future Vault requests will automatically use this token.

Key                  Value
---                  -----
token                s.nbMzfLlBfAb5S4O2zb3DzeFJ
token_accessor       g12y5M7RMuXNNSqrGzQCRayZ
token_duration       &#x221E;
token_renewable      <span class="token boolean">false</span>
token_policies       <span class="token punctuation">[</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">]</span>
identity_policies    <span class="token punctuation">[</span><span class="token punctuation">]</span>
policies             <span class="token punctuation">[</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">]</span>

<span class="token operator">&gt;</span>vault secrets <span class="token builtin class-name">enable</span> azure
Success<span class="token operator">!</span> Enabled the azure secrets engine at: azure/

<span class="token operator">&gt;</span>vault <span class="token function">write</span> azure/config <span class="token assign-left variable">subscription_id</span><span class="token operator">=</span><span class="token operator">&lt;</span>your_subscription_id<span class="token operator">&gt;</span> <span class="token assign-left variable">client_id</span><span class="token operator">=</span><span class="token operator">&lt;</span>your_client_id<span class="token operator">&gt;</span> <span class="token assign-left variable">client_secret</span><span class="token operator">=</span><span class="token operator">&lt;</span>your_client_secret<span class="token operator">&gt;</span> <span class="token assign-left variable">tenant_id</span><span class="token operator">=</span><span class="token operator">&lt;</span>your_tenant_id<span class="token operator">&gt;</span>
Success<span class="token operator">!</span> Data written to: azure/config
</code></pre>
<p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A; <code>azure.hcl</code> &#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code class="lang-hcl"><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;role_name&quot;</span>: <span class="token string">&quot;Contributor&quot;</span>,
        <span class="token property">&quot;scope&quot;</span>: <span class="token string">&quot;/subscriptions/&lt;your_subscription_id&gt;/resourceGroups/vault-education&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre>
<p>&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6307;&#x51FA;&#x7684;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x5047;&#x8BBE;&#x540E;&#x7EED;&#x521B;&#x5EFA;&#x7684;&#x77ED;&#x751F;&#x547D;&#x5468;&#x671F;&#x51ED;&#x636E;&#x7684;&#x4F5C;&#x7528;&#x8303;&#x56F4;&#x90FD;&#x662F;&#x5728;&#x540D;&#x4E3A; <code>vault-education</code> &#x7684; ResourceGroup &#x4E0B;&#x7684;&#x3002;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728; Azure &#x4E0A;&#x521B;&#x5EFA;&#x8FD9;&#x4E2A; ResourceGroup&#x3002;&#x5982;&#x679C;&#x60F3;&#x8981;&#x8C03;&#x6574;&#x4F5C;&#x7528;&#x8303;&#x56F4;&#xFF08;&#x4F8B;&#x5982;&#x4F7F;&#x5F97;&#x77ED;&#x751F;&#x547D;&#x5468;&#x671F;&#x51ED;&#x636E;&#x4F5C;&#x7528;&#x4E8E;&#x6574;&#x4E2A; Subscription &#x8303;&#x56F4;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x8BF7;&#x81EA;&#x884C;&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x4E2D;&#x7684; <code>scope</code>&#x3002;</p>
<p>&#x968F;&#x540E;&#x6211;&#x4EEC;&#x5411; Vault &#x63D0;&#x4EA4;&#x8BE5;&#x7B56;&#x7565;&#xFF1A;</p>
<pre class="language-"><code class="lang-cmd"><span class="token operator">&gt;</span>vault <span class="token function">write</span> azure/roles/edu-app <span class="token assign-left variable">ttl</span><span class="token operator">=</span>2m <span class="token assign-left variable">azure_roles</span><span class="token operator">=</span>@./azure.hcl
Success<span class="token operator">!</span> Data written to: azure/roles/edu-app
</code></pre>
<p>&#x8BE5;&#x7B56;&#x7565;&#x5C06;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5728; <code>vault-education</code> &#x8FD9;&#x4E2A; ResourceGroup &#x4E0B;&#x6709;&#x6548;&#x7684; <code>Contributor</code> &#x89D2;&#x8272;&#x7684;&#x8D26;&#x53F7;&#xFF0C;&#x5176;&#x6709;&#x6548;&#x671F;&#x4E3A;2&#x5206;&#x949F;&#x3002;</p>
<p>&#x81F3;&#x6B64; Vault Server &#x90E8;&#x5206;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x914D;&#x7F6E;&#x5B8C;&#x6210;&#x4E86;&#x3002;</p>
<h2 id="&#x914D;&#x7F6E;-azure-active-directory-&#x6743;&#x9650;">&#x914D;&#x7F6E; Azure Active Directory &#x6743;&#x9650;</h2>
<p>&#x76EE;&#x524D;&#x7684; Vault Server &#x4F7F;&#x7528; Azure Active Directory Graph API &#x6765;&#x64CD;&#x4F5C; Azure &#x4E0A;&#x7684;&#x8D26;&#x53F7;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x76F8;&#x5E94; API &#x6743;&#x9650;&#x3002;&#x4F46;&#x662F;&#x7531;&#x4E8E; Azure &#x6709;&#x610F;&#x6DD8;&#x6C70; Azure Active Directory Graph API&#xFF0C;&#x7763;&#x4FC3;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x65B0;&#x7684; Microsoft Graph API&#xFF0C;&#x6240;&#x4EE5; HashiCorp &#x5B98;&#x65B9;&#x7684; Learn &#x6559;&#x7A0B;&#x4E2D;&#x63CF;&#x8FF0;&#x7684;&#x901A;&#x8FC7; Portal &#x8BBE;&#x7F6E; API &#x6743;&#x9650;&#x7684;&#x65B9;&#x5F0F;&#x5DF2;&#x4E0D;&#x53EF;&#x884C;&#xFF08;&#x754C;&#x9762;&#x4E0A;&#x5DF2;&#x7ECF;&#x65E0;&#x6CD5;&#x914D;&#x7F6E;&#x4E86;&#xFF09;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4F7F;&#x7528; Azure CLI &#x6765;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002;</p>
<p>&#x9996;&#x5148;&#x901A;&#x8FC7; Azure CLI &#x767B;&#x5F55;&#xFF1A;</p>
<pre class="language-"><code class="lang-cmd"><span class="token operator">&gt;</span>az login
The default web browser has been opened at https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize. Please <span class="token builtin class-name">continue</span> the login <span class="token keyword">in</span> the web browser. If no web browser is available or <span class="token keyword">if</span> the web browser fails to open, use device code flow with <span class="token variable"><span class="token variable">`</span>az login --use-device-code<span class="token variable">`</span></span><span class="token builtin class-name">.</span>
<span class="token punctuation">..</span>.
</code></pre>
<p>&#x7136;&#x540E;&#x7528;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x6DFB;&#x52A0;&#x6743;&#x9650;&#xFF1A;</p>
<pre class="language-"><code class="lang-cmd"><span class="token operator">&gt;</span>az ad app permission <span class="token function">add</span> --id <span class="token operator">&lt;</span>your_client_id<span class="token operator">&gt;</span> --api 00000002-0000-0000-c000-000000000000 --api-permissions 1cda74f2-2616-4834-b122-5cb1b07f8a59<span class="token operator">=</span>Role
Invoking <span class="token string">&quot;az ad app permission grant --id &lt;your_client_id&gt; --api 00000002-0000-0000-c000-000000000000&quot;</span> is needed to <span class="token function">make</span> the change effective
<span class="token operator">&gt;</span>az ad app permission <span class="token function">add</span> --id <span class="token operator">&lt;</span>your_client_id<span class="token operator">&gt;</span> --api 00000002-0000-0000-c000-000000000000 --api-permissions 78c8a3c8-a07e-4b9e-af1b-b5ccab50a175<span class="token operator">=</span>Role
Invoking <span class="token string">&quot;az ad app permission grant --id &lt;your_client_id&gt; --api 00000002-0000-0000-c000-000000000000&quot;</span> is needed to <span class="token function">make</span> the change effective
<span class="token operator">&gt;</span>az ad app permission grant --id <span class="token operator">&lt;</span>your_client_id<span class="token operator">&gt;</span> --api 00000002-0000-0000-c000-000000000000
<span class="token punctuation">..</span>.
</code></pre>
<p>&#x8FD9;&#x91CC;&#x9762;&#x7684; <code>00000002-0000-0000-c000-000000000000</code> &#x4EE3;&#x8868; Azure Active Directory Graph API&#xFF0C;&#x800C; <code>1cda74f2-2616-4834-b122-5cb1b07f8a59</code> &#x548C; <code>78c8a3c8-a07e-4b9e-af1b-b5ccab50a175</code> &#x4EE3;&#x8868;&#x7740; <code>Application.ReadWrite.All</code> &#x548C; <code>Directory.ReadWrite.All</code> &#x8FD9;&#x4E24;&#x4E2A;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x6743;&#x9650;&#xFF08;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x7BC7;<a href="https://blogs.aaddevsup.xyz/2018/06/guid-table-for-windows-azure-active-directory-permissions/" target="_blank">&#x535A;&#x5BA2;</a>&#x4E2D;&#x67E5;&#x5230;&#xFF09;&#x3002;</p>
<p>&#x914D;&#x7F6E;&#x597D;&#x6743;&#x9650;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B; Vault &#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6B63;&#x786E;&#x5730;&#x521B;&#x5EFA; Azure &#x8D26;&#x53F7;&#xFF1A;</p>
<pre class="language-"><code class="lang-cmd"><span class="token operator">&gt;</span>vault <span class="token builtin class-name">read</span> azure/creds/edu-app
Key                Value
---                -----
lease_id           azure/creds/edu-app/HqusX5LF7s1D87DiQpRnR1sv
lease_duration     2m
lease_renewable    <span class="token boolean">true</span>
client_id          055edb07-7b86-4569-b221-c07a43fa092e
client_secret      5N9g4hAvw8pX4hDJ5c2zPpcw0Civcwnht9HT
</code></pre>
<p>&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x5728; Azure Active Directory &#x7684; App registrations &#x4E2D;&#x786E;&#x8BA4;&#xFF1A;</p>
<figure id="fig1.10.3.1"><img src="https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/1636272151939-image.png" alt="Azure Active Directory &#x7684; App registrations &#x53EF;&#x4EE5;&#x770B;&#x5230; Vault &#x521B;&#x5EFA;&#x7684;&#x8D26;&#x53F7;"><figcaption>&#x56FE; 1.10.3/1 - Azure Active Directory &#x7684; App registrations &#x53EF;&#x4EE5;&#x770B;&#x5230; Vault &#x521B;&#x5EFA;&#x7684;&#x8D26;&#x53F7;</figcaption></figure>
<p>&#x9700;&#x8981;&#x7279;&#x522B;&#x6307;&#x51FA;&#x7684;&#x662F;&#xFF0C;&#x6211;&#x6562;&#x5728;&#x8FD9;&#x91CC;&#x76F4;&#x63A5;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x4E2D;&#x7684; <code>client_id</code> &#x548C; <code>client_secret</code>&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x5B83;&#x7684;&#x6709;&#x6548;&#x671F;&#x53EA;&#x6709; 2 &#x5206;&#x949F;&#xFF0C;&#x5E76;&#x4E14;&#x6211;&#x786E;&#x8BA4;&#x4E86;&#x5B83;&#x5DF2;&#x7ECF;&#x88AB; Vault &#x6B63;&#x786E;&#x540A;&#x9500;&#x4E86;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x4E00;&#x5B9A;&#x8981;&#x786E;&#x8BA4;&#x4E0D;&#x8981;&#x6CC4;&#x6F0F;&#x81EA;&#x5DF1;&#x7684;&#x957F;&#x751F;&#x547D;&#x5468;&#x671F;&#x51ED;&#x636E;&#x3002;</p>
<h2 id="&#x914D;&#x7F6E;-consul-template">&#x914D;&#x7F6E; Consul-Template</h2>
<p>&#x5148;&#x786E;&#x8BA4;&#x4E00;&#x4E0B;&#x5F53;&#x524D;&#x7248;&#x672C;&#xFF1A;</p>
<pre class="language-"><code class="lang-cmd"><span class="token operator">&gt;</span>consul-template -version
 v0.26.0 <span class="token punctuation">(</span>3b7f233a<span class="token punctuation">)</span>
</code></pre>
<p>&#x8BF7;&#x4E00;&#x5B9A;&#x8981;&#x6CE8;&#x610F;&#x4E0D;&#x8981;&#x4F7F;&#x7528;&#x6700;&#x65B0;&#x7684; <code>v.0.27.0</code> &#x6216;&#x4EE5;&#x4E0A;&#x7684;&#x7248;&#x672C;&#x3002;</p>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A; <code>ct_config.hcl</code> &#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code class="lang-hcl"><span class="token keyword">vault</span> <span class="token punctuation">{</span>
  <span class="token property">address</span> <span class="token punctuation">=</span> <span class="token string">&quot;http://127.0.0.1:8200&quot;</span>
  <span class="token property">token</span> <span class="token punctuation">=</span> <span class="token string">&quot;s.nbMzfLlBfAb5S4O2zb3DzeFJ&quot;</span>
  <span class="token property">renew_token</span> <span class="token punctuation">=</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre>
<p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x4F7F;&#x7528;&#x4E86; Vault &#x7684; Root Token&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x5728;&#x505A;&#x5B9E;&#x9A8C;&#x3002;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E0B;&#x8FD9;&#x91CC;&#x7684; Token &#x6700;&#x597D;&#x662F;&#x4F7F;&#x7528; Token &#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x662F;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x81EA;&#x5DF1;&#x767B;&#x5F55;&#x81EA;&#x5DF1; Vault &#x8D26;&#x53F7;&#x540E;&#x5F97;&#x5230;&#x7684; Token&#x3002;<code>renew_token = false</code> &#x4E5F;&#x662F;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684; Root Token &#x662F;&#x4E0D;&#x53EF;&#x7EED;&#x671F;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x663E;&#x5F0F;&#x8BBE;&#x7F6E;&#x4E3A; <code>false</code>&#xFF0C;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4F7F;&#x7528;&#x65F6;&#x8BF7;&#x6839;&#x636E;&#x81EA;&#x8EAB;&#x60C5;&#x51B5;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002;</p>
<p>&#x518D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A; <code>config_env.ps1.tplt</code> &#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code class="lang-powershell"><span class="token namespace">[Environment]</span>::SetEnvironmentVariable<span class="token punctuation">(</span><span class="token string">&quot;ARM_SUBSCRIPTION_ID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;your_subscription_id&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;Machine&apos;</span><span class="token punctuation">)</span>
<span class="token namespace">[Environment]</span>::SetEnvironmentVariable<span class="token punctuation">(</span><span class="token string">&quot;ARM_TENANT_ID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;your_tenant_id&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;Machine&apos;</span><span class="token punctuation">)</span>

<span class="token punctuation">{</span><span class="token punctuation">{</span> with secret <span class="token string">&quot;azure/creds/edu-app&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token namespace">[Environment]</span>::SetEnvironmentVariable<span class="token punctuation">(</span><span class="token string">&quot;ARM_CLIENT_ID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;{{ .Data.client_id }}&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;Machine&apos;</span><span class="token punctuation">)</span>
<span class="token namespace">[Environment]</span>::SetEnvironmentVariable<span class="token punctuation">(</span><span class="token string">&quot;ARM_CLIENT_SECRET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;{{ .Data.client_secret }}&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;Machine&apos;</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token keyword">end</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">$true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Start-Sleep</span> <span class="token operator">-</span>Seconds 1  
<span class="token punctuation">}</span>
</code></pre>
<p>&#x672C;&#x8D28;&#x4E0A;&#x8FD9;&#x5C31;&#x662F;&#x4E00;&#x4E2A; PowerShell &#x811A;&#x672C;&#xFF0C;&#x8C03;&#x7528; <code>[Environment]::SetEnvironmentVariable</code> &#x65B9;&#x6CD5;&#x8BBE;&#x7F6E;&#x56DB;&#x4E2A;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF1A;<code>ARM_SUBSCRIPTION_ID</code>&#x3001;<code>ARM_TENANT_ID</code>&#x3001;<code>ARM_CLIENT_ID</code> &#x548C; <code>ARM_CLIENT_SECRET</code>&#x3002;&#x552F;&#x4E00;&#x548C;&#x666E;&#x901A; PowerShell &#x811A;&#x672C;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x65B9;&#x5728;&#x4E8E;&#xFF0C;&#x8BBE;&#x7F6E; <code>ARM_CLIENT_ID</code> &#x548C; <code>ARM_CLIENT_SECRET</code> &#x7684;&#x90E8;&#x5206;&#x4F7F;&#x7528;&#x4E86; Golang Template &#x8BED;&#x6CD5;&#xFF0C;&#x8FD9;&#x5C31;&#x662F; Consul-Template &#x652F;&#x6301;&#x7684;&#x6A21;&#x677F;&#x8BED;&#x6CD5;&#x3002;&#x8FD9;&#x6BB5;&#x6A21;&#x677F;&#x7684;&#x610F;&#x601D;&#x662F;&#x8BFB;&#x53D6; Vault &#x7684; <code>azure/creds/edu-app</code> &#x8FD9;&#x4E2A;&#x8DEF;&#x5F84;&#x4E0B;&#x7684;&#x673A;&#x5BC6;&#xFF08;&#x7B49;&#x540C;&#x4E8E;&#x521A;&#x624D;&#x6D4B;&#x8BD5;&#x65F6;&#x901A;&#x8FC7; Valut CLI &#x6267;&#x884C;&#x7684; <code>read</code>&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x7ED3;&#x679C;&#x4E2D;&#x7684; <code>client_id</code> &#x548C; <code>client_secret</code> &#x586B;&#x5145;&#x8FDB;&#x811A;&#x672C;&#x3002;</p>
<p>&#x811A;&#x672C;&#x7684;&#x6700;&#x540E;&#x662F;&#x4E00;&#x4E2A;&#x6C38;&#x8FDC;&#x8FD0;&#x884C;&#x7684;&#x5FAA;&#x73AF;&#xFF0C;&#x53EA;&#x6709;&#x63A5;&#x6536;&#x5230;&#x9000;&#x51FA;&#x4FE1;&#x53F7;&#x65F6;&#x811A;&#x672C;&#x624D;&#x4F1A;&#x7EC8;&#x6B62;&#x6267;&#x884C;&#xFF0C;&#x8FD9;&#x662F; Consul-Template &#x8981;&#x6C42;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4F1A;&#x4EE5; Exec &#x6A21;&#x5F0F;&#x8FD0;&#x884C; Consul-Template &#xFF0C;&#x5728;&#x5B83;&#x6E32;&#x67D3;&#x8BE5;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x540E;&#x542F;&#x52A8;&#x4E00;&#x4E2A; PowerShell &#x8FDB;&#x7A0B;&#x6765;&#x6267;&#x884C;&#x5B83;&#xFF0C;&#x8BE5;&#x8FDB;&#x7A0B;&#x5982;&#x679C;&#x7ED3;&#x675F;&#x8FD0;&#x884C;&#x4F1A;&#x5BFC;&#x81F4; Consul-Template &#x4E5F;&#x7ED3;&#x675F;&#x8FD0;&#x884C;&#xFF0C;&#x90A3;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x5C31;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x4E3A;&#x6211;&#x4EEC;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x7EED;&#x671F;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8981;&#x786E;&#x4FDD;&#x5B83;&#x6C38;&#x8FDC;&#x6267;&#x884C;&#xFF08;&#x76F4;&#x5230;&#x6211;&#x4EEC;&#x5173;&#x95ED;&#x5B83;&#x4E3A;&#x6B62;&#xFF09;&#x3002;</p>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x542F;&#x52A8; Consul-Template&#xFF1A;</p>
<pre class="language-"><code class="lang-cmd"><span class="token operator">&gt;</span>consul-template -template <span class="token string">&quot;./config_env.ps1.tplt:./config_env.ps1&quot;</span> -config <span class="token string">&quot;./ct_config.hcl&quot;</span> -exec <span class="token string">&quot;powershell.exe -noexit -file ./config_env.ps1&quot;</span>
Windows PowerShell
&#x7248;&#x6743;&#x6240;&#x6709; <span class="token punctuation">(</span>C<span class="token punctuation">)</span> Microsoft Corporation&#x3002;&#x4FDD;&#x7559;&#x6240;&#x6709;&#x6743;&#x5229;&#x3002;

&#x5C1D;&#x8BD5;&#x65B0;&#x7684;&#x8DE8;&#x5E73;&#x53F0; PowerShell https://aka.ms/pscore6
</code></pre>
<p>&#x8FD9;&#x6BB5;&#x547D;&#x4EE4;&#x610F;&#x601D;&#x662F;&#xFF0C;&#x4EE5; <code>ct_config.hcl</code> &#x6587;&#x4EF6;&#x4E3A; Consul-Template &#x4F7F;&#x7528;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x6E32;&#x67D3; <code>config_env.ps1.tplt</code> &#x8FD9;&#x4E2A;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x6E32;&#x67D3;&#x7684;&#x7ED3;&#x679C;&#x5B58;&#x653E;&#x5728; <code>config_env.ps1</code> &#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x91CC;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C; <code>powershell.exe -noexit -file ./config_env.ps1</code> &#x547D;&#x4EE4;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6267;&#x884C;&#x6211;&#x4EEC;&#x521A;&#x521A;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#x7684; PowerShell &#x811A;&#x672C;&#x3002;Consul-Template &#x4ECE; <code>v.0.27.0</code> &#x5F00;&#x59CB;&#x4E0D;&#x518D;&#x652F;&#x6301; Windows &#x5E73;&#x53F0;&#x4E0A;&#x7684;&#x591A;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x7684;&#x662F; <code>v0.27.0</code> &#x6216;&#x66F4;&#x65B0;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x4F1A;&#x9047;&#x5230;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x3002;&#x6211;&#x4E2A;&#x4EBA;&#x8BA4;&#x4E3A;&#x8BE5;&#x95EE;&#x9898;&#x53EA;&#x662F;&#x6682;&#x65F6;&#x7684;&#xFF0C;&#x5C06;&#x6765;&#x5E94;&#x8BE5;&#x662F;&#x4F1A;&#x88AB;&#x89E3;&#x51B3;&#x7684;&#x3002;</p>
<p>&#x7B49;&#x6211;&#x4EEC;&#x6210;&#x529F;&#x770B;&#x5230; PowerShell &#x7684;&#x8F93;&#x51FA;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x4E00;&#x4E0B; <code>config_env.ps1</code> &#x7684;&#x5185;&#x5BB9;&#xFF1A;</p>
<pre class="language-"><code class="lang-powershell"><span class="token namespace">[Environment]</span>::SetEnvironmentVariable<span class="token punctuation">(</span><span class="token string">&quot;ARM_SUBSCRIPTION_ID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;your_subscription_id&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;Machine&apos;</span><span class="token punctuation">)</span>
<span class="token namespace">[Environment]</span>::SetEnvironmentVariable<span class="token punctuation">(</span><span class="token string">&quot;ARM_TENANT_ID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;your_tenant_id&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;Machine&apos;</span><span class="token punctuation">)</span>


<span class="token namespace">[Environment]</span>::SetEnvironmentVariable<span class="token punctuation">(</span><span class="token string">&quot;ARM_CLIENT_ID&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;58484968-1d18-4a6c-8335-28c98e491dc3&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;Machine&apos;</span><span class="token punctuation">)</span>
<span class="token namespace">[Environment]</span>::SetEnvironmentVariable<span class="token punctuation">(</span><span class="token string">&quot;ARM_CLIENT_SECRET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;sSpY2gst2o8RO6L0VRfobBNHjWvGI8g4vxQz&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;Machine&apos;</span><span class="token punctuation">)</span>


<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">$true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Start-Sleep</span> <span class="token operator">-</span>Seconds 1  
<span class="token punctuation">}</span>
</code></pre>
<p>&#x540C;&#x6837;&#x7684;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Portal &#x786E;&#x8BA4;&#x8BE5;&#x8D26;&#x53F7;&#x7684;&#x5B58;&#x5728;&#x3002;&#x8BA9;&#x6211;&#x4EEC;&#x6253;&#x5F00;&#x8BBE;&#x7F6E;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7A97;&#x53E3;&#x6765;&#x89C2;&#x5BDF;&#x4E00;&#x4E0B;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF1A;</p>
<figure id="fig1.10.3.2"><img src="https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/1636270441852-image.png" alt="&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x5DF2;&#x88AB;&#x6B63;&#x786E;&#x8BBE;&#x7F6E;"><figcaption>&#x56FE; 1.10.3/2 - &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x5DF2;&#x88AB;&#x6B63;&#x786E;&#x8BBE;&#x7F6E;</figcaption></figure>
<p>&#x4E0E;&#x521A;&#x624D;&#x7528; Vault CLI &#x521B;&#x5EFA;&#x7684;&#x53EA;&#x6709;2&#x5206;&#x949F;&#x751F;&#x547D;&#x7684;&#x8D26;&#x53F7;&#x4E0D;&#x540C;&#xFF0C;&#x4F60;&#x4F1A;&#x53D1;&#x73B0; Consul-Template &#x521B;&#x5EFA;&#x7684;&#x8D26;&#x53F7;&#x5728; 2 &#x5206;&#x949F;&#x4EE5;&#x540E;&#x4ECD;&#x7136;&#x6D3B;&#x8E66;&#x4E71;&#x8DF3;&#x7684;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A; Consul-Template &#x4F1A;&#x68C0;&#x67E5;&#x5B83;&#x521B;&#x5EFA;&#x51FA;&#x6765;&#x7684;&#x79DF;&#x7EA6;&#x7684;&#x6709;&#x6548;&#x671F;&#xFF0C;&#x4F1A;&#x5728;&#x6709;&#x6548;&#x671F;&#x53EA;&#x5269;&#x4E00;&#x534A;&#x65F6;&#x5411; Vault &#x63D0;&#x4EA4;&#x7EED;&#x671F;&#x7533;&#x8BF7;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x53EA;&#x8981;&#x8FD9;&#x4E2A; Consul-Template &#x548C;&#x5B83;&#x542F;&#x52A8;&#x7684; PowerShell &#x7A97;&#x4F53;&#x6301;&#x7EED;&#x8FD0;&#x884C;&#xFF0C;&#x90A3;&#x4E48;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x91CC;&#x914D;&#x7F6E;&#x7684;&#x51ED;&#x636E;&#x5C31;&#x6301;&#x7EED;&#x6709;&#x6548;&#x3002;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x505C;&#x6B62;&#x8FDB;&#x7A0B;&#x3001;&#x5173;&#x95ED;&#x4E3B;&#x673A;&#x6216;&#x8FDB;&#x5165;&#x7761;&#x7720;&#x72B6;&#x6001;&#x3001;&#x6216;&#x662F;&#x7B80;&#x5355;&#x5730;&#x5408;&#x4E0A;&#x7B14;&#x8BB0;&#x672C;&#x76D6;&#x5B50;&#xFF0C;&#x7531;&#x4E8E; Consul-Template &#x65E0;&#x6CD5;&#x518D;&#x6267;&#x884C;&#x7EED;&#x671F;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x4EE5;&#x8BE5;&#x8D26;&#x53F7;&#x5C31;&#x53EA;&#x5269; 2 &#x5206;&#x949F;&#x7684;&#x751F;&#x547D;&#x4E86;&#xFF08;&#x524D;&#x63D0;&#x662F; Vault Server &#x8FD0;&#x884C;&#x5728;&#x53E6;&#x5916;&#x72EC;&#x7ACB;&#x7684;&#x4E3B;&#x673A;&#x4E0A;&#xFF0C;&#x56E0;&#x4E3A;&#x540A;&#x9500;&#x5FC5;&#x987B;&#x7531; Vault Server &#x6765;&#x6267;&#x884C;&#xFF0C;&#x6240;&#x4EE5;&#x5173;&#x673A;&#x7B49;&#x64CD;&#x4F5C;&#x5728;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x4E2D;&#x662F;&#x4E0D;&#x9002;&#x7528;&#x7684;&#xFF09;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x7528; Ctrl + C &#x5173;&#x95ED;&#x8FDB;&#x7A0B;&#xFF1A;</p>
<pre class="language-"><code class="lang-cmd"><span class="token operator">&gt;</span>consul-template -template <span class="token string">&quot;./config_env.ps1.tplt:./config_env.ps1&quot;</span> -config <span class="token string">&quot;./ct_config.hcl&quot;</span> -exec <span class="token string">&quot;powershell.exe -noexit -file ./config_env.ps1&quot;</span>
Windows PowerShell
&#x7248;&#x6743;&#x6240;&#x6709; <span class="token punctuation">(</span>C<span class="token punctuation">)</span> Microsoft Corporation&#x3002;&#x4FDD;&#x7559;&#x6240;&#x6709;&#x6743;&#x5229;&#x3002;

&#x5C1D;&#x8BD5;&#x65B0;&#x7684;&#x8DE8;&#x5E73;&#x53F0; PowerShell https://aka.ms/pscore6

Cleaning up<span class="token punctuation">..</span>.
</code></pre>
<p>&#x8FC7;&#x5927;&#x7EA6; 2 &#x5206;&#x949F;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728; Vault Server &#x7684;&#x8F93;&#x51FA;&#x4E2D;&#x770B;&#x5230;&#x8FD9;&#x6837;&#x7684;&#x4FE1;&#x606F;&#xFF1A;</p>
<pre class="language-"><code class="lang-cmd"><span class="token number">2021</span>-11-07T15:49:18.327+0800 <span class="token punctuation">[</span>INFO<span class="token punctuation">]</span>  expiration: revoked lease: <span class="token assign-left variable">lease_id</span><span class="token operator">=</span>azure/creds/edu-app/5Gx0PjUjtORAW16stpEhBCta
</code></pre>
<p>&#x8FD9;&#x5C31;&#x4EE3;&#x8868; Vault &#x540A;&#x9500;&#x4E86;&#x8FD9;&#x4E2A;&#x8FC7;&#x671F;&#x7684;&#x79DF;&#x7EA6;&#xFF0C;&#x8FD9;&#x65F6;&#x6211;&#x4EEC;&#x5728; Azure Active Directory &#x4E2D;&#x4F1A;&#x53D1;&#x73B0;&#x8D26;&#x53F7;&#x88AB;&#x6B63;&#x786E;&#x5220;&#x9664;&#x4E86;&#x3002;</p>
<p>&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;&#x6700;&#x521D;&#x7684;&#x4E09;&#x4E2A;&#x76EE;&#x7684;&#xFF1A;</p>
<ol>
<li>&#x4F7F;&#x7528;&#x77ED;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x51ED;&#x636E;&#xFF0C;&#x4F7F;&#x5F97;&#x51ED;&#x636E;&#x4EC5;&#x5728;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x7684;&#x65F6;&#x5019;&#x6709;&#x6548;</li>
<li>&#x9002;&#x7528;&#x4E8E;&#x81EA;&#x52A8;&#x5316;&#x73AF;&#x5883;&#xFF0C;&#x4EE5;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x6216;&#x662F;&#x51ED;&#x636E;&#x6587;&#x4EF6;&#x7684;&#x5F62;&#x5F0F;&#x5B58;&#x5728;</li>
<li>&#x8BBE;&#x7F6E;&#x51ED;&#x636E;&#x7684;&#x8FC7;&#x7A0B;&#x5C3D;&#x53EF;&#x80FD;&#x7B80;&#x5355;</li>
</ol>
<p>&#x53E6;&#x5916;&#x5982;&#x679C;&#x662F;&#x8FDB;&#x5165;&#x7761;&#x7720;&#x72B6;&#x6001;&#x6216;&#x662F;&#x5408;&#x4E0A;&#x7B14;&#x8BB0;&#x672C;&#x76D6;&#x5B50;&#x540E;&#xFF0C;&#x5728;&#x79DF;&#x7EA6;&#x88AB;&#x540A;&#x9500;&#x3001;&#x8D26;&#x53F7;&#x88AB;&#x5220;&#x9664;&#x4EE5;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x91CD;&#x65B0;&#x6253;&#x5F00;&#x7CFB;&#x7EDF;&#xFF0C;Consul-Template &#x6062;&#x590D;&#x8FD0;&#x884C;&#x65F6;&#x4F1A;&#x53D1;&#x73B0;&#x81EA;&#x5DF1;&#x521B;&#x5EFA;&#x7684;&#x79DF;&#x7EA6;&#x5DF2;&#x7ECF;&#x88AB;&#x540A;&#x9500;&#x4E86;&#xFF0C;&#x5B83;&#x4F1A;&#x91CD;&#x65B0;&#x5411; Vault &#x7533;&#x8BF7;&#x4E00;&#x4E2A;&#x79DF;&#x7EA6;&#xFF0C;&#x91CD;&#x65B0;&#x6E32;&#x67D3; PowerShell &#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x65B0;&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x6211;&#x4EEC;&#x5F80;&#x5F80;&#x4F1A;&#x610F;&#x8BC6;&#x4E0D;&#x5230;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x5176;&#x5B9E;&#x5DF2;&#x7ECF;&#x53D8;&#x4E86;&#xFF0C;&#x8FD9;&#x65F6;&#x6709;&#x53EF;&#x80FD;&#x8FD8;&#x8981;&#x6267;&#x884C; <code>refreshenv</code> &#x547D;&#x4EE4;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="2.使用vault提供可搜索的密文.html" class="navigation navigation-prev " aria-label="Previous page: 使用 Vault 提供可搜索的密文">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="4.ssh_otp.html" class="navigation navigation-next " aria-label="Next page: 配置使用一次性密码登录 SSH">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"用Vault 与 Consul-Template 管理 Windows 环境变量中的机密","level":"1.10.3","depth":2,"next":{"title":"配置使用一次性密码登录 SSH","level":"1.10.4","depth":2,"path":"9.实际案例/4.ssh_otp.md","ref":"9.实际案例/4.ssh_otp.md","articles":[]},"previous":{"title":"使用 Vault 提供可搜索的密文","level":"1.10.2","depth":2,"path":"9.实际案例/2.使用vault提供可搜索的密文.md","ref":"9.实际案例/2.使用vault提供可搜索的密文.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-highlight","prism","prism-themes","fontsettings","sharing","-lunr","-search","search-pro","livereload","image-captions","sitemap-general"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prism-themes/themes/prism-vsc-dark-plus.css"],"lang":{"shell":"bash","cmd":"bash"}},"livereload":{},"search-pro":{},"sitemap-general":{"prefix":"https://lonegunmanb.github.io/essential-vault/"},"fontsettings":{"family":"sans","size":2,"theme":"white"},"prism-themes":{},"sharing":{"all":["facebook","google","instapaper","twitter","weibo"],"facebook":true,"google":false,"instapaper":false,"twitter":true,"vk":false,"weibo":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true},"image-captions":{"caption":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","variable_name":"_pictures"}},"theme":"default","author":"大可不加冰","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"_pictures":[{"backlink":"index.html#fig1.1.1","level":"1.1","list_caption":"Figure: HashiStack","alt":"HashiStack","nro":1,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/Full%20Stack_onBlack%402x.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"HashiStack","attributes":{},"skip":false,"key":"1.1.1"},{"backlink":"index.html#fig1.1.2","level":"1.1","list_caption":"Figure: 马奇诺防线示意图","alt":"马奇诺防线示意图","nro":2,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211230122032.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"马奇诺防线示意图","attributes":{},"skip":false,"key":"1.1.2"},{"backlink":"1.什么是vault/2.什么是vault.html#fig1.2.2.1","level":"1.2.2","list_caption":"Figure: Vault 新建的用户","alt":"Vault 新建的用户","nro":3,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211227102513.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"Vault 新建的用户","attributes":{},"skip":false,"key":"1.2.2.1"},{"backlink":"1.什么是vault/2.什么是vault.html#fig1.2.2.2","level":"1.2.2","list_caption":"Figure: iam 用户被删除了","alt":"iam 用户被删除了","nro":4,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211227102309.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"iam 用户被删除了","attributes":{},"skip":false,"key":"1.2.2.2"},{"backlink":"1.什么是vault/5.启动标准的Vault服务.html#fig1.2.5.1","level":"1.2.5","list_caption":"Figure: 使用 Consul 组网的 Vault 集群","alt":"使用 Consul 组网的 Vault 集群","nro":5,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211227095035.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"使用 Consul 组网的 Vault 集群","attributes":{},"skip":false,"key":"1.2.5.1"},{"backlink":"1.什么是vault/5.启动标准的Vault服务.html#fig1.2.5.2","level":"1.2.5","list_caption":"Figure: Vault 保存 Master Key 的机制","alt":"Vault 保存 Master Key 的机制","nro":6,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211227095325.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"Vault 保存 Master Key 的机制","attributes":{},"skip":false,"key":"1.2.5.2"},{"backlink":"1.什么是vault/6.Vault的架构.html#fig1.2.6.1","level":"1.2.6","list_caption":"Figure: Vault服务架构","alt":"Vault服务架构","nro":7,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/1616989467747-image.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"Vault服务架构","attributes":{},"skip":false,"key":"1.2.6.1"},{"backlink":"1.什么是vault/6.Vault的架构.html#fig1.2.6.2","level":"1.2.6","list_caption":"Figure: 使用Shamir算法拆分的主密钥，由主密钥加密的加密密钥","alt":"使用Shamir算法拆分的主密钥，由主密钥加密的加密密钥","nro":8,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/1616992699734-image.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"使用Shamir算法拆分的主密钥，由主密钥加密的加密密钥","attributes":{},"skip":false,"key":"1.2.6.2"},{"backlink":"2.基本概念/2.封印与解封.html#fig1.3.2.1","level":"1.3.2","list_caption":"Figure: 使用 Shamir 算法解封的过程","alt":"使用 Shamir 算法解封的过程","nro":9,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211227113930.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"使用 Shamir 算法解封的过程","attributes":{},"skip":false,"key":"1.3.2.1"},{"backlink":"2.基本概念/2.封印与解封.html#fig1.3.2.2","level":"1.3.2","list_caption":"Figure: 自动解封机制","alt":"自动解封机制","nro":10,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211227142444.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"自动解封机制","attributes":{},"skip":false,"key":"1.3.2.2"},{"backlink":"2.基本概念/7.身份.html#fig1.3.7.1","level":"1.3.7","list_caption":"Figure: 映射到同一个实体的两个别名，类型分别是 LDAP 和 Github","alt":"映射到同一个实体的两个别名，类型分别是 LDAP 和 Github","nro":11,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211227212819.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"映射到同一个实体的两个别名，类型分别是 LDAP 和 Github","attributes":{},"skip":false,"key":"1.3.7.1"},{"backlink":"2.基本概念/7.身份.html#fig1.3.7.2","level":"1.3.7","list_caption":"Figure: 有效的同类型别名映射","alt":"有效的同类型别名映射","nro":12,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211227213036.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"有效的同类型别名映射","attributes":{},"skip":false,"key":"1.3.7.2"},{"backlink":"2.基本概念/7.身份.html#fig1.3.7.3","level":"1.3.7","list_caption":"Figure: 无效的同类型别名映射","alt":"无效的同类型别名映射","nro":13,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211227213104.png","index":3,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"无效的同类型别名映射","attributes":{},"skip":false,"key":"1.3.7.3"},{"backlink":"2.基本概念/7.身份.html#fig1.3.7.4","level":"1.3.7","list_caption":"Figure: 实体策略被添加到令牌上的过程","alt":"实体策略被添加到令牌上的过程","nro":14,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211227213822.png","index":4,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"实体策略被添加到令牌上的过程","attributes":{},"skip":false,"key":"1.3.7.4"},{"backlink":"2.基本概念/7.身份.html#fig1.3.7.5","level":"1.3.7","list_caption":"Figure: 包含身份组策略的实体策略计算结果","alt":"包含身份组策略的实体策略计算结果","nro":15,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211227233441.png","index":5,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"包含身份组策略的实体策略计算结果","attributes":{},"skip":false,"key":"1.3.7.5"},{"backlink":"2.基本概念/9.策略.html#fig1.3.9.1","level":"1.3.9","list_caption":"Figure: LDAP 映射 Vault 策略的流程","alt":"LDAP 映射 Vault 策略的流程","nro":16,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/1617071783177-image.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"LDAP 映射 Vault 策略的流程","attributes":{},"skip":false,"key":"1.3.9.1"},{"backlink":"2.基本概念/9.策略.html#fig1.3.9.2","level":"1.3.9","list_caption":"Figure: LDAP 认证登录 Vault","alt":"LDAP 认证登录 Vault","nro":17,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/1617072900456-image.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"LDAP 认证登录 Vault","attributes":{},"skip":false,"key":"1.3.9.2"},{"backlink":"2.基本概念/10.密码策略.html#fig1.3.10.1","level":"1.3.10","list_caption":"Figure: 生成候选密码的状态机","alt":"生成候选密码的状态机","nro":18,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211228160926.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"生成候选密码的状态机","attributes":{},"skip":false,"key":"1.3.10.1"},{"backlink":"2.基本概念/10.密码策略.html#fig1.3.10.2","level":"1.3.10","list_caption":"Figure: 不同规则生成密码的性能曲线","alt":"不同规则生成密码的性能曲线","nro":19,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211228151729.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"不同规则生成密码的性能曲线","attributes":{},"skip":false,"key":"1.3.10.2"},{"backlink":"2.基本概念/10.密码策略.html#fig1.3.10.3","level":"1.3.10","list_caption":"Figure: 大小写字母加数字字符集的合法概率","alt":"大小写字母加数字字符集的合法概率","nro":20,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211228153607.png","index":3,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"大小写字母加数字字符集的合法概率","attributes":{},"skip":false,"key":"1.3.10.3"},{"backlink":"2.基本概念/14.Vault集成存储.html#fig1.3.14.1","level":"1.3.14","list_caption":"Figure: 新节点加入集群的时序图","alt":"新节点加入集群的时序图","nro":21,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20211229143904.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"新节点加入集群的时序图","attributes":{},"skip":false,"key":"1.3.14.1"},{"backlink":"6.机密引擎/机密引擎.html#fig1.7.1","level":"1.7","list_caption":"Figure: Vault 支持种类丰富的机密引擎","alt":"Vault 支持种类丰富的机密引擎","nro":22,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20220117224337.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"Vault 支持种类丰富的机密引擎","attributes":{},"skip":false,"key":"1.7.1"},{"backlink":"9.实际案例/1.加密即服务.html#fig1.10.1.1","level":"1.10.1","list_caption":"Figure: 调用Vault加解密数据流程","alt":"调用Vault加解密数据流程","nro":23,"url":"https://gitee.com/lonegunman/pic/raw/master/2021-3-16/1615865424480-image.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"调用Vault加解密数据流程","attributes":{},"skip":false,"key":"1.10.1.1"},{"backlink":"9.实际案例/1.加密即服务.html#fig1.10.1.2","level":"1.10.1","list_caption":"Figure: 用Root用户创建一个App用户，并为其配置使用密钥加解密的权限","alt":"用Root用户创建一个App用户，并为其配置使用密钥加解密的权限","nro":24,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/1615877113070-image.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"用Root用户创建一个App用户，并为其配置使用密钥加解密的权限","attributes":{},"skip":false,"key":"1.10.1.2"},{"backlink":"9.实际案例/2.使用vault提供可搜索的密文.html#fig1.10.2.1","level":"1.10.2","list_caption":"Figure: Vault高级数据保护功能","alt":"Vault高级数据保护功能","nro":25,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/1623556184012-image.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"Vault高级数据保护功能","attributes":{},"skip":false,"key":"1.10.2.1"},{"backlink":"9.实际案例/2.使用vault提供可搜索的密文.html#fig1.10.2.2","level":"1.10.2","list_caption":"Figure: 静态存储加密","alt":"静态存储加密","nro":26,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/1623556895427-image.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"静态存储加密","attributes":{},"skip":false,"key":"1.10.2.2"},{"backlink":"9.实际案例/2.使用vault提供可搜索的密文.html#fig1.10.2.3","level":"1.10.2","list_caption":"Figure: 传输中加密","alt":"传输中加密","nro":27,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/1623566074261-image.png","index":3,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"传输中加密","attributes":{},"skip":false,"key":"1.10.2.3"},{"backlink":"9.实际案例/3.vault_consul_secret_in_env_win.html#fig1.10.3.1","level":"1.10.3","list_caption":"Figure: Azure Active Directory 的 App registrations 可以看到 Vault 创建的账号","alt":"Azure Active Directory 的 App registrations 可以看到 Vault 创建的账号","nro":28,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/1636272151939-image.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"Azure Active Directory 的 App registrations 可以看到 Vault 创建的账号","attributes":{},"skip":false,"key":"1.10.3.1"},{"backlink":"9.实际案例/3.vault_consul_secret_in_env_win.html#fig1.10.3.2","level":"1.10.3","list_caption":"Figure: 环境变量已被正确设置","alt":"环境变量已被正确设置","nro":29,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/1636270441852-image.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"环境变量已被正确设置","attributes":{},"skip":false,"key":"1.10.3.2"},{"backlink":"9.实际案例/4.ssh_otp.html#fig1.10.4.1","level":"1.10.4","list_caption":"Figure: Vault SSH OTP 工作原理","alt":"Vault SSH OTP 工作原理","nro":30,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20220130124641.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"Vault SSH OTP 工作原理","attributes":{},"skip":false,"key":"1.10.4.1"},{"backlink":"9.实际案例/5.routate_db_root_credential.html#fig1.10.5.1","level":"1.10.5","list_caption":"Figure: 轮换数据库根凭据流程","alt":"轮换数据库根凭据流程","nro":31,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20220130220257.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"轮换数据库根凭据流程","attributes":{},"skip":false,"key":"1.10.5.1"},{"backlink":"9.实际案例/6.postgres_dynamic_secrets.html#fig1.10.6.1","level":"1.10.6","list_caption":"Figure: 应用程序通过 Vault 获取动态数据库凭据的流程","alt":"应用程序通过 Vault 获取动态数据库凭据的流程","nro":32,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20220131122650.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"应用程序通过 Vault 获取动态数据库凭据的流程","attributes":{},"skip":false,"key":"1.10.6.1"},{"backlink":"9.实际案例/8.entities_groups.html#fig1.10.8.1","level":"1.10.8","list_caption":"Figure: 实验场景","alt":"实验场景","nro":33,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20220201125818.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"实验场景","attributes":{},"skip":false,"key":"1.10.8.1"},{"backlink":"9.实际案例/8.entities_groups.html#fig1.10.8.2","level":"1.10.8","list_caption":"Figure: 内部组","alt":"内部组","nro":34,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20220201140446.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"内部组","attributes":{},"skip":false,"key":"1.10.8.2"},{"backlink":"9.实际案例/9.Cubbyhole.html#fig1.10.9.1","level":"1.10.9","list_caption":"Figure: Cubbyhole Response Wrap流程","alt":"Cubbyhole Response Wrap流程","nro":35,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/1615889324764-image.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"Cubbyhole Response Wrap流程","attributes":{},"skip":false,"key":"1.10.9.1"},{"backlink":"10.后记/1.关于翻译.html#fig1.11.1.1","level":"1.11.1","list_caption":"Figure: 第一次鸦片战争后签订南京条约","alt":"第一次鸦片战争后签订南京条约","nro":36,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20220201193526.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"第一次鸦片战争后签订南京条约","attributes":{},"skip":false,"key":"1.11.1.1"},{"backlink":"10.后记/1.关于翻译.html#fig1.11.1.2","level":"1.11.1","list_caption":"Figure: 国产电影《鸦片战争》截图","alt":"国产电影《鸦片战争》截图","nro":37,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20220201195443.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"国产电影《鸦片战争》截图","attributes":{},"skip":false,"key":"1.11.1.2"},{"backlink":"10.后记/1.关于翻译.html#fig1.11.1.3","level":"1.11.1","list_caption":"Figure: 国产电影《鸦片战争》截图","alt":"国产电影《鸦片战争》截图","nro":38,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20220201195540.png","index":3,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"国产电影《鸦片战争》截图","attributes":{},"skip":false,"key":"1.11.1.3"},{"backlink":"10.后记/1.关于翻译.html#fig1.11.1.4","level":"1.11.1","list_caption":"Figure: 国产电影《鸦片战争》截图","alt":"国产电影《鸦片战争》截图","nro":39,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20220201195640.png","index":4,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"国产电影《鸦片战争》截图","attributes":{},"skip":false,"key":"1.11.1.4"},{"backlink":"10.后记/1.关于翻译.html#fig1.11.1.5","level":"1.11.1","list_caption":"Figure: 国产电影《鸦片战争》截图","alt":"国产电影《鸦片战争》截图","nro":40,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20220201195710.png","index":5,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"国产电影《鸦片战争》截图","attributes":{},"skip":false,"key":"1.11.1.5"},{"backlink":"10.后记/1.关于翻译.html#fig1.11.1.6","level":"1.11.1","list_caption":"Figure: 国产电影《鸦片战争》截图","alt":"国产电影《鸦片战争》截图","nro":41,"url":"https://raw.githubusercontent.com/lonegunmanb/essential-vault-pic/main/20220201195740.png","index":6,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"国产电影《鸦片战争》截图","attributes":{},"skip":false,"key":"1.11.1.6"},{"backlink":"10.后记/3.中国云计算的革命尚未开始.html#fig1.11.3.1","level":"1.11.3","list_caption":"Figure: sh文件是操作系统的脚本代码文件，该Slogan意为避免在IT运维中使用sh脚本文件，首先由Splunk所提出","alt":"sh文件是操作系统的脚本代码文件，该Slogan意为避免在IT运维中使用sh脚本文件，首先由Splunk所提出","nro":42,"url":"https://gitee.com/lonegunman/pic/raw/master/2021-7-9/1625815196004-image.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"sh文件是操作系统的脚本代码文件，该Slogan意为避免在IT运维中使用sh脚本文件，首先由Splunk所提出","attributes":{},"skip":false,"key":"1.11.3.1"},{"backlink":"10.后记/3.中国云计算的革命尚未开始.html#fig1.11.3.2","level":"1.11.3","list_caption":"Figure: CNCF全景图——为了将图片大小缩至可以上传图床我缩小了图片大小，这使得从图中识别项目图标更得更加困难","alt":"CNCF全景图——为了将图片大小缩至可以上传图床我缩小了图片大小，这使得从图中识别项目图标更得更加困难","nro":43,"url":"https://gitee.com/lonegunman/pic/raw/master/2021-7-9/1625808948910-image.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"CNCF全景图——为了将图片大小缩至可以上传图床我缩小了图片大小，这使得从图中识别项目图标更得更加困难","attributes":{},"skip":false,"key":"1.11.3.2"},{"backlink":"10.后记/4.加拉帕戈斯云上不会有千里马.html#fig1.11.4.1","level":"1.11.4","list_caption":"Figure: 加拉帕戈斯群岛位置","alt":"加拉帕戈斯群岛位置","nro":44,"url":"https://gitee.com/lonegunman/pic/raw/master/2021-11-27/1638001975216-image.png","index":1,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"加拉帕戈斯群岛位置","attributes":{},"skip":false,"key":"1.11.4.1"},{"backlink":"10.后记/4.加拉帕戈斯云上不会有千里马.html#fig1.11.4.2","level":"1.11.4","list_caption":"Figure: 紫色为曾经生活在马达加斯加上的象鸟（已灭绝）","alt":"紫色为曾经生活在马达加斯加上的象鸟（已灭绝）","nro":45,"url":"https://gitee.com/lonegunman/pic/raw/master/2021-11-27/1638003801907-image.png","index":2,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"紫色为曾经生活在马达加斯加上的象鸟（已灭绝）","attributes":{},"skip":false,"key":"1.11.4.2"},{"backlink":"10.后记/4.加拉帕戈斯云上不会有千里马.html#fig1.11.4.3","level":"1.11.4","list_caption":"Figure: 1895年欧洲猎人与一头死去的爪哇犀，与印度犀是近亲，目前几近于绝种，只剩下五十至六十头左右，仅在印尼的爪哇岛还有一个种群残存","alt":"1895年欧洲猎人与一头死去的爪哇犀，与印度犀是近亲，目前几近于绝种，只剩下五十至六十头左右，仅在印尼的爪哇岛还有一个种群残存","nro":46,"url":"https://gitee.com/lonegunman/pic/raw/master/2021-11-27/1638014534314-image.png","index":3,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"1895年欧洲猎人与一头死去的爪哇犀，与印度犀是近亲，目前几近于绝种，只剩下五十至六十头左右，仅在印尼的爪哇岛还有一个种群残存","attributes":{},"skip":false,"key":"1.11.4.3"},{"backlink":"10.后记/4.加拉帕戈斯云上不会有千里马.html#fig1.11.4.4","level":"1.11.4","list_caption":"Figure: 网传某地国资云","alt":"网传某地国资云","nro":47,"url":"https://gitee.com/lonegunman/pic/raw/master/2021-11-27/1638015194356-image.png","index":4,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"网传某地国资云","attributes":{},"skip":false,"key":"1.11.4.4"},{"backlink":"10.后记/4.加拉帕戈斯云上不会有千里马.html#fig1.11.4.5","level":"1.11.4","list_caption":"Figure: CIA并没有搞自己的“情报云”","alt":"CIA并没有搞自己的“情报云”","nro":48,"url":"https://gitee.com/lonegunman/pic/raw/master/2021-11-27/1638015399383-image.png","index":5,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"CIA并没有搞自己的“情报云”","attributes":{},"skip":false,"key":"1.11.4.5"},{"backlink":"10.后记/4.加拉帕戈斯云上不会有千里马.html#fig1.11.4.6","level":"1.11.4","list_caption":"Figure: 五角大楼也没有自己关门搞云，而是向主流公有云厂商招标","alt":"五角大楼也没有自己关门搞云，而是向主流公有云厂商招标","nro":49,"url":"https://gitee.com/lonegunman/pic/raw/master/2021-11-27/1638015464459-image.png","index":6,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"五角大楼也没有自己关门搞云，而是向主流公有云厂商招标","attributes":{},"skip":false,"key":"1.11.4.6"},{"backlink":"10.后记/4.加拉帕戈斯云上不会有千里马.html#fig1.11.4.7","level":"1.11.4","list_caption":"Figure: 第一次鸦片战争中英国舰队在定海击败清朝帆船水师，百年屈辱由此开始","alt":"第一次鸦片战争中英国舰队在定海击败清朝帆船水师，百年屈辱由此开始","nro":50,"url":"https://gitee.com/lonegunman/pic/raw/master/2021-11-27/1638019312091-image.png","index":7,"caption_template":"图 _PAGE_LEVEL_/_PAGE_IMAGE_NUMBER_ - _CAPTION_","label":"第一次鸦片战争中英国舰队在定海击败清朝帆船水师，百年屈辱由此开始","attributes":{},"skip":false,"key":"1.11.4.7"}]},"title":"《Vault 中文手册》","gitbook":"*"},"file":{"path":"9.实际案例/3.vault_consul_secret_in_env_win.md","mtime":"2022-02-04T12:32:00.288Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-02-04T13:07:05.610Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    

    </body>
</html>

